{"version":3,"file":"spartan-ng-ui-popover-brain.mjs","sources":["../../../../../../libs/ui/popover/brain/src/lib/brn-popover-close.directive.ts","../../../../../../libs/ui/popover/brain/src/lib/brn-popover-content.directive.ts","../../../../../../libs/ui/popover/brain/src/lib/brn-popover-trigger.directive.ts","../../../../../../libs/ui/popover/brain/src/lib/brn-popover.component.ts","../../../../../../libs/ui/popover/brain/src/index.ts","../../../../../../libs/ui/popover/brain/src/spartan-ng-ui-popover-brain.ts"],"sourcesContent":["import { Directive } from '@angular/core';\nimport { BrnDialogCloseDirective } from '@spartan-ng/ui-dialog-brain';\n\n@Directive({\n\tselector: 'button[brnPopoverClose]',\n\tstandalone: true,\n})\nexport class BrnPopoverCloseDirective extends BrnDialogCloseDirective {}\n","import { Directive } from '@angular/core';\nimport { provideExposesStateProviderExisting } from '@spartan-ng/ui-core';\nimport { BrnDialogContentDirective } from '@spartan-ng/ui-dialog-brain';\n\n@Directive({\n\tselector: '[brnPopoverContent]',\n\tstandalone: true,\n\tproviders: [provideExposesStateProviderExisting(() => BrnPopoverContentDirective)],\n})\nexport class BrnPopoverContentDirective<T> extends BrnDialogContentDirective<T> {}\n","import { Directive, ElementRef, Input, inject } from '@angular/core';\nimport { BrnDialogTriggerDirective } from '@spartan-ng/ui-dialog-brain';\nimport type { BrnPopoverComponent } from './brn-popover.component';\n\n@Directive({\n\tselector: 'button[brnPopoverTrigger],button[brnPopoverTriggerFor]',\n\tstandalone: true,\n\thost: {\n\t\t'[id]': 'id()',\n\t\t'aria-haspopup': 'dialog',\n\t\t'[attr.aria-expanded]': \"state() === 'open' ? 'true': 'false'\",\n\t\t'[attr.data-state]': 'state()',\n\t\t'[attr.aria-controls]': 'dialogId',\n\t},\n})\nexport class BrnPopoverTriggerDirective extends BrnDialogTriggerDirective {\n\tprivate _host = inject(ElementRef, { host: true });\n\n\tconstructor() {\n\t\tsuper();\n\t\tif (!this._brnDialog) return;\n\t\tthis._brnDialog.attachTo = this._host.nativeElement;\n\t\tthis._brnDialog.closeOnOutsidePointerEvents = true;\n\t}\n\n\t@Input()\n\tset brnPopoverTriggerFor(brnDialog: BrnPopoverComponent) {\n\t\tbrnDialog.attachTo = this._host.nativeElement;\n\t\tbrnDialog.closeOnOutsidePointerEvents = true;\n\t\tsuper.brnDialogTriggerFor = brnDialog;\n\t}\n}\n","import {\n\tChangeDetectionStrategy,\n\tComponent,\n\tInput,\n\tViewEncapsulation,\n\teffect,\n\tforwardRef,\n\tnumberAttribute,\n\tsignal,\n\tuntracked,\n} from '@angular/core';\nimport { BrnDialogComponent } from '@spartan-ng/ui-dialog-brain';\n\nexport type BrnPopoverAlign = 'start' | 'center' | 'end';\n@Component({\n\tselector: 'brn-popover',\n\tstandalone: true,\n\ttemplate: `\n\t\t<ng-content />\n\t`,\n\tproviders: [\n\t\t{\n\t\t\tprovide: BrnDialogComponent,\n\t\t\tuseExisting: forwardRef(() => BrnPopoverComponent),\n\t\t},\n\t],\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n\tencapsulation: ViewEncapsulation.None,\n\texportAs: 'brnPopover',\n})\nexport class BrnPopoverComponent extends BrnDialogComponent {\n\tprivate readonly _sideOffset = signal(0);\n\t@Input({ transform: numberAttribute })\n\tset sideOffset(value: number) {\n\t\tthis._sideOffset.set(value);\n\t}\n\n\tprivate readonly _align = signal<BrnPopoverAlign>('center');\n\t@Input()\n\tset align(value: BrnPopoverAlign) {\n\t\tthis._align.set(value);\n\t}\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.hasBackdrop = false;\n\t\tthis.ariaDescribedBy = '';\n\t\tthis.ariaLabelledBy = '';\n\t\tthis.scrollStrategy = this.ssos.reposition();\n\n\t\teffect(() => {\n\t\t\tconst align = this._align();\n\t\t\tthis.attachPositions = [\n\t\t\t\t{\n\t\t\t\t\toriginX: align,\n\t\t\t\t\toriginY: 'bottom',\n\t\t\t\t\toverlayX: align,\n\t\t\t\t\toverlayY: 'top',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\toriginX: align,\n\t\t\t\t\toriginY: 'top',\n\t\t\t\t\toverlayX: align,\n\t\t\t\t\toverlayY: 'bottom',\n\t\t\t\t},\n\t\t\t];\n\t\t\tthis.applySideOffset(untracked(this._sideOffset));\n\t\t});\n\n\t\teffect(() => {\n\t\t\tthis.applySideOffset(this._sideOffset());\n\t\t});\n\t}\n\n\tprivate applySideOffset(sideOffset: number) {\n\t\tthis.attachPositions = (this._options['attachPositions'] ?? []).map((position) => ({\n\t\t\t...position,\n\t\t\toffsetY: position.originY === 'top' ? -sideOffset : sideOffset,\n\t\t}));\n\t}\n}\n","import { NgModule } from '@angular/core';\n\nimport { BrnPopoverCloseDirective } from './lib/brn-popover-close.directive';\nimport { BrnPopoverContentDirective } from './lib/brn-popover-content.directive';\nimport { BrnPopoverTriggerDirective } from './lib/brn-popover-trigger.directive';\nimport { BrnPopoverComponent } from './lib/brn-popover.component';\n\nexport * from './lib/brn-popover-close.directive';\nexport * from './lib/brn-popover-content.directive';\nexport * from './lib/brn-popover-trigger.directive';\nexport * from './lib/brn-popover.component';\n\nexport const BrnPopoverImports = [\n\tBrnPopoverComponent,\n\tBrnPopoverTriggerDirective,\n\tBrnPopoverCloseDirective,\n\tBrnPopoverContentDirective,\n] as const;\n\n@NgModule({\n\timports: [...BrnPopoverImports],\n\texports: [...BrnPopoverImports],\n})\nexport class BrnPopoverModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}