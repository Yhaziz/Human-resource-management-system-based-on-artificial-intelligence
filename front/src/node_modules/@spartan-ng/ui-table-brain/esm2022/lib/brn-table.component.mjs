import { CdkRowDef, CdkTable, CdkTableModule } from '@angular/cdk/table';
import { ChangeDetectionStrategy, Component, ContentChildren, EventEmitter, Input, Output, ViewChild, ViewEncapsulation, booleanAttribute, } from '@angular/core';
import { provideTableClassesSettableExisting } from '@spartan-ng/ui-core';
import { BrnColumnDefComponent } from './brn-column-def.component';
import * as i0 from "@angular/core";
import * as i1 from "@angular/cdk/table";
export class BrnTableComponent {
    constructor() {
        // Cdk Table Inputs / Outputs
        this.dataSource = [];
        this.fixedLayout = false;
        this.multiTemplateDataRows = false;
        this.displayedColumns = [];
        this.contentChanged = new EventEmitter();
        // Brn Inputs / Outputs
        this.customTemplateDataRows = false;
        this.stickyHeader = false;
        this.tableClasses = '';
        this.headerRowClasses = '';
        this.bodyRowClasses = '';
    }
    get trackBy() {
        return this._trackBy;
    }
    set trackBy(value) {
        this._trackBy = value;
        if (this._cdkTable) {
            this._cdkTable.trackBy = this._trackBy;
        }
    }
    // after the <ng-content> has been initialized, the column definitions are available.
    // All that's left is to add them to the table ourselves:
    ngAfterContentInit() {
        this.columnDefComponents.forEach((component) => {
            if (!this._cdkTable)
                return;
            if (component.cell) {
                this._cdkTable.addColumnDef(component.columnDef);
            }
        });
        this.rowDefs.forEach((rowDef) => {
            if (!this._cdkTable)
                return;
            this._cdkTable.addRowDef(rowDef);
        });
    }
    setTableClasses({ table, headerRow, bodyRow, }) {
        if (table) {
            this.tableClasses = table;
        }
        if (headerRow) {
            this.headerRowClasses = headerRow;
        }
        if (bodyRow) {
            this.bodyRowClasses = bodyRow;
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.5", ngImport: i0, type: BrnTableComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "17.3.5", type: BrnTableComponent, isStandalone: true, selector: "brn-table", inputs: { dataSource: "dataSource", fixedLayout: ["fixedLayout", "fixedLayout", booleanAttribute], multiTemplateDataRows: ["multiTemplateDataRows", "multiTemplateDataRows", booleanAttribute], displayedColumns: "displayedColumns", trackBy: "trackBy", customTemplateDataRows: ["customTemplateDataRows", "customTemplateDataRows", booleanAttribute], onRowClick: "onRowClick", stickyHeader: ["stickyHeader", "stickyHeader", booleanAttribute], tableClasses: "tableClasses", headerRowClasses: "headerRowClasses", bodyRowClasses: "bodyRowClasses" }, outputs: { contentChanged: "contentChanged" }, providers: [provideTableClassesSettableExisting(() => BrnTableComponent)], queries: [{ propertyName: "columnDefComponents", predicate: BrnColumnDefComponent }, { propertyName: "rowDefs", predicate: CdkRowDef }], viewQueries: [{ propertyName: "_cdkTable", first: true, predicate: ["cdkTable"], descendants: true, read: CdkTable, static: true }], ngImport: i0, template: `
		<cdk-table
			#cdkTable
			[class]="tableClasses"
			[dataSource]="dataSource"
			[fixedLayout]="fixedLayout"
			[multiTemplateDataRows]="multiTemplateDataRows"
			(contentChanged)="contentChanged.emit()"
		>
			<ng-content />

			<cdk-header-row [class]="headerRowClasses" *cdkHeaderRowDef="displayedColumns; sticky: stickyHeader" />
			@if (!customTemplateDataRows) {
				<cdk-row
					[tabindex]="!!onRowClick ? 0 : -1"
					[attr.role]="!!onRowClick ? 'button' : 'row'"
					[class.row-interactive]="!!onRowClick"
					(keydown.enter)="!!onRowClick && onRowClick(row)"
					(click)="!!onRowClick && onRowClick(row)"
					[class]="bodyRowClasses"
					*cdkRowDef="let row; columns: displayedColumns"
				/>
			}

			<ng-template cdkNoDataRow>
				<ng-content select="[brnNoDataRow]" />
			</ng-template>
		</cdk-table>
	`, isInline: true, dependencies: [{ kind: "ngmodule", type: CdkTableModule }, { kind: "component", type: i1.CdkTable, selector: "cdk-table, table[cdk-table]", inputs: ["trackBy", "dataSource", "multiTemplateDataRows", "fixedLayout"], outputs: ["contentChanged"], exportAs: ["cdkTable"] }, { kind: "directive", type: i1.CdkRowDef, selector: "[cdkRowDef]", inputs: ["cdkRowDefColumns", "cdkRowDefWhen"] }, { kind: "component", type: i1.CdkRow, selector: "cdk-row, tr[cdk-row]" }, { kind: "component", type: i1.CdkHeaderRow, selector: "cdk-header-row, tr[cdk-header-row]" }, { kind: "directive", type: i1.CdkHeaderRowDef, selector: "[cdkHeaderRowDef]", inputs: ["cdkHeaderRowDef", "cdkHeaderRowDefSticky"] }, { kind: "directive", type: i1.CdkNoDataRow, selector: "ng-template[cdkNoDataRow]" }], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.5", ngImport: i0, type: BrnTableComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'brn-table',
                    standalone: true,
                    imports: [CdkTableModule],
                    providers: [provideTableClassesSettableExisting(() => BrnTableComponent)],
                    template: `
		<cdk-table
			#cdkTable
			[class]="tableClasses"
			[dataSource]="dataSource"
			[fixedLayout]="fixedLayout"
			[multiTemplateDataRows]="multiTemplateDataRows"
			(contentChanged)="contentChanged.emit()"
		>
			<ng-content />

			<cdk-header-row [class]="headerRowClasses" *cdkHeaderRowDef="displayedColumns; sticky: stickyHeader" />
			@if (!customTemplateDataRows) {
				<cdk-row
					[tabindex]="!!onRowClick ? 0 : -1"
					[attr.role]="!!onRowClick ? 'button' : 'row'"
					[class.row-interactive]="!!onRowClick"
					(keydown.enter)="!!onRowClick && onRowClick(row)"
					(click)="!!onRowClick && onRowClick(row)"
					[class]="bodyRowClasses"
					*cdkRowDef="let row; columns: displayedColumns"
				/>
			}

			<ng-template cdkNoDataRow>
				<ng-content select="[brnNoDataRow]" />
			</ng-template>
		</cdk-table>
	`,
                    changeDetection: ChangeDetectionStrategy.OnPush,
                    encapsulation: ViewEncapsulation.None,
                }]
        }], propDecorators: { _cdkTable: [{
                type: ViewChild,
                args: ['cdkTable', { read: CdkTable, static: true }]
            }], dataSource: [{
                type: Input
            }], fixedLayout: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], multiTemplateDataRows: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], displayedColumns: [{
                type: Input
            }], trackBy: [{
                type: Input
            }], contentChanged: [{
                type: Output
            }], customTemplateDataRows: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], onRowClick: [{
                type: Input
            }], stickyHeader: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], tableClasses: [{
                type: Input
            }], headerRowClasses: [{
                type: Input
            }], bodyRowClasses: [{
                type: Input
            }], columnDefComponents: [{
                type: ContentChildren,
                args: [BrnColumnDefComponent]
            }], rowDefs: [{
                type: ContentChildren,
                args: [CdkRowDef]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnJuLXRhYmxlLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvdWkvdGFibGUvYnJhaW4vc3JjL2xpYi9icm4tdGFibGUuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLGNBQWMsRUFBZ0MsTUFBTSxvQkFBb0IsQ0FBQztBQUN2RyxPQUFPLEVBQ04sdUJBQXVCLEVBQ3ZCLFNBQVMsRUFDVCxlQUFlLEVBQ2YsWUFBWSxFQUNaLEtBQUssRUFDTCxNQUFNLEVBQ04sU0FBUyxFQUNULGlCQUFpQixFQUNqQixnQkFBZ0IsR0FJaEIsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLG1DQUFtQyxFQUE2QixNQUFNLHFCQUFxQixDQUFDO0FBQ3JHLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLDRCQUE0QixDQUFDOzs7QUF5Q25FLE1BQU0sT0FBTyxpQkFBaUI7SUFyQzlCO1FBd0NDLDZCQUE2QjtRQUV0QixlQUFVLEdBQStCLEVBQUUsQ0FBQztRQUU1QyxnQkFBVyxHQUFHLEtBQUssQ0FBQztRQUVwQiwwQkFBcUIsR0FBRyxLQUFLLENBQUM7UUFFOUIscUJBQWdCLEdBQWEsRUFBRSxDQUFDO1FBZ0J2QixtQkFBYyxHQUF1QixJQUFJLFlBQVksRUFBUSxDQUFDO1FBRTlFLHVCQUF1QjtRQUVoQiwyQkFBc0IsR0FBRyxLQUFLLENBQUM7UUFLL0IsaUJBQVksR0FBRyxLQUFLLENBQUM7UUFFckIsaUJBQVksR0FBRyxFQUFFLENBQUM7UUFFbEIscUJBQWdCLEdBQUcsRUFBRSxDQUFDO1FBRXRCLG1CQUFjLEdBQUcsRUFBRSxDQUFDO0tBbUMzQjtJQS9EQSxJQUFJLE9BQU87UUFDVixPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDdEIsQ0FBQztJQUVELElBQ0ksT0FBTyxDQUFDLEtBQXlCO1FBQ3BDLElBQUks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RUFBRSxTQUFTLEVBQUUsZ0JBQWdCLEVBQUU7Z0JBRy9CLFlBQVk7c0JBRGxCLEtBQUs7Z0JBR0MsZ0JBQWdCO3NCQUR0QixLQUFLO2dCQUdDLGNBQWM7c0JBRHBCLEtBQUs7Z0JBR2tDLG1CQUFtQjtzQkFBMUQsZUFBZTt1QkFBQyxxQkFBcUI7Z0JBQ1YsT0FBTztzQkFBbEMsZUFBZTt1QkFBQyxTQUFTIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2RrUm93RGVmLCBDZGtUYWJsZSwgQ2RrVGFibGVNb2R1bGUsIHR5cGUgQ2RrVGFibGVEYXRhU291cmNlSW5wdXQgfSBmcm9tICdAYW5ndWxhci9jZGsvdGFibGUnO1xuaW1wb3J0IHtcblx0Q2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG5cdENvbXBvbmVudCxcblx0Q29udGVudENoaWxkcmVuLFxuXHRFdmVudEVtaXR0ZXIsXG5cdElucHV0LFxuXHRPdXRwdXQsXG5cdFZpZXdDaGlsZCxcblx0Vmlld0VuY2Fwc3VsYXRpb24sXG5cdGJvb2xlYW5BdHRyaWJ1dGUsXG5cdHR5cGUgQWZ0ZXJDb250ZW50SW5pdCxcblx0dHlwZSBRdWVyeUxpc3QsXG5cdHR5cGUgVHJhY2tCeUZ1bmN0aW9uLFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IHByb3ZpZGVUYWJsZUNsYXNzZXNTZXR0YWJsZUV4aXN0aW5nLCB0eXBlIFRhYmxlQ2xhc3Nlc1NldHRhYmxlIH0gZnJvbSAnQHNwYXJ0YW4tbmcvdWktY29yZSc7XG5pbXBvcnQgeyBCcm5Db2x1bW5EZWZDb21wb25lbnQgfSBmcm9tICcuL2Jybi1jb2x1bW4tZGVmLmNvbXBvbmVudCc7XG5cbmV4cG9ydCB0eXBlIEJyblRhYmxlRGF0YVNvdXJjZUlucHV0PFQ+ID0gQ2RrVGFibGVEYXRhU291cmNlSW5wdXQ8VD47XG5cbkBDb21wb25lbnQoe1xuXHRzZWxlY3RvcjogJ2Jybi10YWJsZScsXG5cdHN0YW5kYWxvbmU6IHRydWUsXG5cdGltcG9ydHM6IFtDZGtUYWJsZU1vZHVsZV0sXG5cdHByb3ZpZGVyczogW3Byb3ZpZGVUYWJsZUNsYXNzZXNTZXR0YWJsZUV4aXN0aW5nKDxUPigpID0+IEJyblRhYmxlQ29tcG9uZW50PFQ+KV0sXG5cdHRlbXBsYXRlOiBgXG5cdFx0PGNkay10YWJsZVxuXHRcdFx0I2Nka1RhYmxlXG5cdFx0XHRbY2xhc3NdPVwidGFibGVDbGFzc2VzXCJcblx0XHRcdFtkYXRhU291cmNlXT1cImRhdGFTb3VyY2VcIlxuXHRcdFx0W2ZpeGVkTGF5b3V0XT1cImZpeGVkTGF5b3V0XCJcblx0XHRcdFttdWx0aVRlbXBsYXRlRGF0YVJvd3NdPVwibXVsdGlUZW1wbGF0ZURhdGFSb3dzXCJcblx0XHRcdChjb250ZW50Q2hhbmdlZCk9XCJjb250ZW50Q2hhbmdlZC5lbWl0KClcIlxuXHRcdD5cblx0XHRcdDxuZy1jb250ZW50IC8+XG5cblx0XHRcdDxjZGstaGVhZGVyLXJvdyBbY2xhc3NdPVwiaGVhZGVyUm93Q2xhc3Nlc1wiICpjZGtIZWFkZXJSb3dEZWY9XCJkaXNwbGF5ZWRDb2x1bW5zOyBzdGlja3k6IHN0aWNreUhlYWRlclwiIC8+XG5cdFx0XHRAaWYgKCFjdXN0b21UZW1wbGF0ZURhdGFSb3dzKSB7XG5cdFx0XHRcdDxjZGstcm93XG5cdFx0XHRcdFx0W3RhYmluZGV4XT1cIiEhb25Sb3dDbGljayA/IDAgOiAtMVwiXG5cdFx0XHRcdFx0W2F0dHIucm9sZV09XCIhIW9uUm93Q2xpY2sgPyAnYnV0dG9uJyA6ICdyb3cnXCJcblx0XHRcdFx0XHRbY2xhc3Mucm93LWludGVyYWN0aXZlXT1cIiEhb25Sb3dDbGlja1wiXG5cdFx0XHRcdFx0KGtleWRvd24uZW50ZXIpPVwiISFvblJvd0NsaWNrICYmIG9uUm93Q2xpY2socm93KVwiXG5cdFx0XHRcdFx0KGNsaWNrKT1cIiEhb25Sb3dDbGljayAmJiBvblJvd0NsaWNrKHJvdylcIlxuXHRcdFx0XHRcdFtjbGFzc109XCJib2R5Um93Q2xhc3Nlc1wiXG5cdFx0XHRcdFx0KmNka1Jvd0RlZj1cImxldCByb3c7IGNvbHVtbnM6IGRpc3BsYXllZENvbHVtbnNcIlxuXHRcdFx0XHQvPlxuXHRcdFx0fVxuXG5cdFx0XHQ8bmctdGVtcGxhdGUgY2RrTm9EYXRhUm93PlxuXHRcdFx0XHQ8bmctY29udGVudCBzZWxlY3Q9XCJbYnJuTm9EYXRhUm93XVwiIC8+XG5cdFx0XHQ8L25nLXRlbXBsYXRlPlxuXHRcdDwvY2RrLXRhYmxlPlxuXHRgLFxuXHRjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcblx0ZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbn0pXG5leHBvcnQgY2xhc3MgQnJuVGFibGVDb21wb25lbnQ8VD4gaW1wbGVtZW50cyBUYWJsZUNsYXNzZXNTZXR0YWJsZSwgQWZ0ZXJDb250ZW50SW5pdCB7XG5cdEBWaWV3Q2hpbGQoJ2Nka1RhYmxlJywgeyByZWFkOiBDZGtUYWJsZSwgc3RhdGljOiB0cnVlIH0pXG5cdHByaXZhdGUgX2Nka1RhYmxlPzogQ2RrVGFibGU8VD47XG5cdC8vIENkayBUYWJsZSBJbnB1dHMgLyBPdXRwdXRzXG5cdEBJbnB1dCgpXG5cdHB1YmxpYyBkYXRhU291cmNlOiBCcm5UYWJsZURhdGFTb3VyY2VJbnB1dDxUPiA9IFtdO1xuXHRASW5wdXQoeyB0cmFuc2Zvcm06IGJvb2xlYW5BdHRyaWJ1dGUgfSlcblx0cHVibGljIGZpeGVkTGF5b3V0ID0gZmFsc2U7XG5cdEBJbnB1dCh7IHRyYW5zZm9ybTogYm9vbGVhbkF0dHJpYnV0ZSB9KVxuXHRwdWJsaWMgbXVsdGlUZW1wbGF0ZURhdGFSb3dzID0gZmFsc2U7XG5cdEBJbnB1dCgpXG5cdHB1YmxpYyBkaXNwbGF5ZWRDb2x1bW5zOiBzdHJpbmdbXSA9IFtdO1xuXG5cdHByaXZhdGUgX3RyYWNrQnk/OiBUcmFja0J5RnVuY3Rpb248VD47XG5cdGdldCB0cmFja0J5KCk6IFRyYWNrQnlGdW5jdGlvbjxUPiB8IHVuZGVmaW5lZCB7XG5cdFx0cmV0dXJuIHRoaXMuX3RyYWNrQnk7XG5cdH1cblxuXHRASW5wdXQoKVxuXHRzZXQgdHJhY2tCeSh2YWx1ZTogVHJhY2tCeUZ1bmN0aW9uPFQ+KSB7XG5cdFx0dGhpcy5fdHJhY2tCeSA9IHZhbHVlO1xuXHRcdGlmICh0aGlzLl9jZGtUYWJsZSkge1xuXHRcdFx0dGhpcy5fY2RrVGFibGUudHJhY2tCeSA9IHRoaXMuX3RyYWNrQnk7XG5cdFx0fVxuXHR9XG5cblx0QE91dHB1dCgpXG5cdHB1YmxpYyByZWFkb25seSBjb250ZW50Q2hhbmdlZDogRXZlbnRFbWl0dGVyPHZvaWQ+ID0gbmV3IEV2ZW50RW1pdHRlcjx2b2lkPigpO1xuXG5cdC8vIEJybiBJbnB1dHMgLyBPdXRwdXRzXG5cdEBJbnB1dCh7IHRyYW5zZm9ybTogYm9vbGVhbkF0dHJpYnV0ZSB9KVxuXHRwdWJsaWMgY3VzdG9tVGVtcGxhdGVEYXRhUm93cyA9IGZhbHNlO1xuXHRASW5wdXQoKVxuXHRwdWJsaWMgb25Sb3dDbGljazogKChlbGVtZW50OiBUKSA9PiB2b2lkKSB8IHVuZGVmaW5lZDtcblxuXHRASW5wdXQoeyB0cmFuc2Zvcm06IGJvb2xlYW5BdHRyaWJ1dGUgfSlcblx0cHVibGljIHN0aWNreUhlYWRlciA9IGZhbHNlO1xuXHRASW5wdXQoKVxuXHRwdWJsaWMgdGFibGVDbGFzc2VzID0gJyc7XG5cdEBJbnB1dCgpXG5cdHB1YmxpYyBoZWFkZXJSb3dDbGFzc2VzID0gJyc7XG5cdEBJbnB1dCgpXG5cdHB1YmxpYyBib2R5Um93Q2xhc3NlcyA9ICcnO1xuXG5cdEBDb250ZW50Q2hpbGRyZW4oQnJuQ29sdW1uRGVmQ29tcG9uZW50KSBjb2x1bW5EZWZDb21wb25lbnRzITogUXVlcnlMaXN0PEJybkNvbHVtbkRlZkNvbXBvbmVudD47XG5cdEBDb250ZW50Q2hpbGRyZW4oQ2RrUm93RGVmKSByb3dEZWZzITogUXVlcnlMaXN0PENka1Jvd0RlZjxUPj47XG5cblx0Ly8gYWZ0ZXIgdGhlIDxuZy1jb250ZW50PiBoYXMgYmVlbiBpbml0aWFsaXplZCwgdGhlIGNvbHVtbiBkZWZpbml0aW9ucyBhcmUgYXZhaWxhYmxlLlxuXHQvLyBBbGwgdGhhdCdzIGxlZnQgaXMgdG8gYWRkIHRoZW0gdG8gdGhlIHRhYmxlIG91cnNlbHZlczpcblx0cHVibGljIG5nQWZ0ZXJDb250ZW50SW5pdCgpOiB2b2lkIHtcblx0XHR0aGlzLmNvbHVtbkRlZkNvbXBvbmVudHMuZm9yRWFjaCgoY29tcG9uZW50KSA9PiB7XG5cdFx0XHRpZiAoIXRoaXMuX2Nka1RhYmxlKSByZXR1cm47XG5cdFx0XHRpZiAoY29tcG9uZW50LmNlbGwpIHtcblx0XHRcdFx0dGhpcy5fY2RrVGFibGUuYWRkQ29sdW1uRGVmKGNvbXBvbmVudC5jb2x1bW5EZWYpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHRoaXMucm93RGVmcy5mb3JFYWNoKChyb3dEZWYpID0+IHtcblx0XHRcdGlmICghdGhpcy5fY2RrVGFibGUpIHJldHVybjtcblx0XHRcdHRoaXMuX2Nka1RhYmxlLmFkZFJvd0RlZihyb3dEZWYpO1xuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIHNldFRhYmxlQ2xhc3Nlcyh7XG5cdFx0dGFibGUsXG5cdFx0aGVhZGVyUm93LFxuXHRcdGJvZHlSb3csXG5cdH06IFBhcnRpYWw8eyB0YWJsZTogc3RyaW5nOyBoZWFkZXJSb3c6IHN0cmluZzsgYm9keVJvdzogc3RyaW5nIH0+KTogdm9pZCB7XG5cdFx0aWYgKHRhYmxlKSB7XG5cdFx0XHR0aGlzLnRhYmxlQ2xhc3NlcyA9IHRhYmxlO1xuXHRcdH1cblx0XHRpZiAoaGVhZGVyUm93KSB7XG5cdFx0XHR0aGlzLmhlYWRlclJvd0NsYXNzZXMgPSBoZWFkZXJSb3c7XG5cdFx0fVxuXHRcdGlmIChib2R5Um93KSB7XG5cdFx0XHR0aGlzLmJvZHlSb3dDbGFzc2VzID0gYm9keVJvdztcblx0XHR9XG5cdH1cbn1cbiJdfQ==