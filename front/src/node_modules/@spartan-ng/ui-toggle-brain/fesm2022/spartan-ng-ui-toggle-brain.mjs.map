{"version":3,"file":"spartan-ng-ui-toggle-brain.mjs","sources":["../../../../../../libs/ui/toggle/brain/src/lib/toggle-group-can-be-nullable-provider.ts","../../../../../../libs/ui/toggle/brain/src/lib/brn-toggle.directive.ts","../../../../../../libs/ui/toggle/brain/src/lib/brn-toggle-group.component.ts","../../../../../../libs/ui/toggle/brain/src/index.ts","../../../../../../libs/ui/toggle/brain/src/spartan-ng-ui-toggle-brain.ts"],"sourcesContent":["import { InjectionToken } from '@angular/core';\n\nexport const ToggleGroupCanBeNullableProvider = new InjectionToken<ToggleGroupCanBeNullableProvider>(\n\t'@spartan-ng/ui/brain toggle group can be nullable token',\n);\n\nexport interface ToggleGroupCanBeNullableProvider {\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t_canBeNullable: (value: any) => boolean;\n}\n","import {\n\tChangeDetectorRef,\n\tDirective,\n\tEventEmitter,\n\tInput,\n\tOutput,\n\tbooleanAttribute,\n\tcomputed,\n\tinject,\n\tsignal,\n} from '@angular/core';\nimport { ToggleGroupCanBeNullableProvider } from './toggle-group-can-be-nullable-provider';\n\nlet uniqueId = 0;\n\n@Directive({\n\t// eslint-disable-next-line @angular-eslint/directive-selector\n\tselector: 'button[hlmToggle], button[brnToggle]',\n\tstandalone: true,\n\thost: {\n\t\t'[attr.disabled]': 'toggleDisabled()',\n\t\t'[attr.data-disabled]': 'toggleDisabled()',\n\t\t'[attr.data-state]': 'state()',\n\t\t'[attr.aria-pressed]': 'isOn()',\n\t\t'(click)': 'toggle()',\n\t},\n})\nexport class BrnToggleDirective {\n\tprivate readonly _cdr = inject(ChangeDetectorRef);\n\tprivate readonly _tgCanBeNullableProvider = inject(ToggleGroupCanBeNullableProvider, { optional: true });\n\n\tprivate readonly _disabled = signal<true | undefined>(undefined);\n\tprivate readonly _state = signal<'on' | 'off'>('off', { equal: (a, b) => a === b });\n\n\tpublic readonly state = this._state.asReadonly();\n\tpublic readonly toggleDisabled = this._disabled.asReadonly();\n\tpublic readonly isOn = computed(() => this.state() === 'on');\n\n\t@Input()\n\tpublic id = 'brn-toggle-' + uniqueId++;\n\n\t@Input()\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\tpublic value: any;\n\n\t@Input({ transform: booleanAttribute })\n\tset disabled(value: boolean) {\n\t\tthis._disabled.set(value ? true : undefined);\n\t}\n\n\t// eslint-disable-next-line @angular-eslint/no-input-rename\n\t@Input('state')\n\tset setState(value: 'on' | 'off') {\n\t\tthis._state.set(value);\n\t}\n\n\tprivate _disableToggleClick = false;\n\t@Input({ transform: booleanAttribute })\n\tset disableToggleClick(value: boolean) {\n\t\tthis._disableToggleClick = value;\n\t}\n\n\t@Output()\n\tpublic readonly toggled = new EventEmitter<'on' | 'off'>();\n\n\ttoggle() {\n\t\tif (this._disableToggleClick) return;\n\t\tif (this._state() === 'on') {\n\t\t\tthis.toggleOff();\n\t\t} else {\n\t\t\tthis.toggleOn();\n\t\t}\n\t}\n\n\ttoggleOff() {\n\t\tif (this._tgCanBeNullableProvider && !this._tgCanBeNullableProvider._canBeNullable(this.value)) return;\n\t\tthis._state.set('off');\n\t\tthis.toggled.emit('off');\n\t}\n\n\ttoggleOn() {\n\t\tthis._state.set('on');\n\t\tthis.toggled.emit('on');\n\t}\n\n\tpublic _markForCheck() {\n\t\tthis._cdr.markForCheck();\n\t}\n}\n","import { SelectionModel } from '@angular/cdk/collections';\nimport {\n\tChangeDetectorRef,\n\tComponent,\n\tContentChildren,\n\tDestroyRef,\n\tEventEmitter,\n\tInput,\n\tOutput,\n\tbooleanAttribute,\n\tforwardRef,\n\tinject,\n\ttype AfterContentInit,\n\ttype OnInit,\n\ttype QueryList,\n} from '@angular/core';\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\nimport { NG_VALUE_ACCESSOR, type ControlValueAccessor } from '@angular/forms';\nimport { map, merge, of, startWith, switchMap } from 'rxjs';\nimport { BrnToggleDirective } from './brn-toggle.directive';\nimport { ToggleGroupCanBeNullableProvider } from './toggle-group-can-be-nullable-provider';\n\nexport const BRN_BUTTON_TOGGLE_GROUP_VALUE_ACCESSOR = {\n\tprovide: NG_VALUE_ACCESSOR,\n\tuseExisting: forwardRef(() => BrnToggleGroupComponent),\n\tmulti: true,\n};\n\nlet uniqueIdCounter = 0;\n\nexport class BrnButtonToggleChange {\n\tconstructor(\n\t\tpublic source: BrnToggleDirective,\n\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\tpublic value: any,\n\t) {}\n}\n\n@Component({\n\tselector: 'brn-toggle-group',\n\tstandalone: true,\n\tproviders: [\n\t\tBRN_BUTTON_TOGGLE_GROUP_VALUE_ACCESSOR,\n\t\t{\n\t\t\tprovide: ToggleGroupCanBeNullableProvider,\n\t\t\tuseExisting: forwardRef(() => BrnToggleGroupComponent),\n\t\t},\n\t],\n\thost: {\n\t\trole: 'group',\n\t\tclass: 'brn-button-toggle-group',\n\t\t'[attr.aria-disabled]': 'disabled',\n\t\t'[attr.data-disabled]': 'disabled',\n\t\t'[attr.data-vertical]': 'vertical',\n\t},\n\texportAs: 'brnToggleGroup',\n\ttemplate: `\n\t\t<ng-content />\n\t`,\n})\nexport class BrnToggleGroupComponent\n\timplements ControlValueAccessor, OnInit, AfterContentInit, ToggleGroupCanBeNullableProvider\n{\n\tprivate readonly _cdr = inject(ChangeDetectorRef);\n\tprivate readonly _destroyRef = inject(DestroyRef);\n\tprivate _vertical = false;\n\tprivate _multiple = false;\n\tprivate _nullable = false;\n\tprivate _skipNullableCheck = false;\n\tprivate _disabled = false;\n\tprivate _selectionModel?: SelectionModel<BrnToggleDirective>;\n\n\t/**\n\t * The method to be called in order to update ngModel.\n\t */\n\t// eslint-disable-next-line @typescript-eslint/no-empty-function,@typescript-eslint/no-explicit-any\n\tprivate _controlValueAccessorChangeFn: (value: any) => void = () => {};\n\n\t/** onTouch function registered via registerOnTouch (ControlValueAccessor). */\n\t// eslint-disable-next-line @typescript-eslint/no-empty-function,@typescript-eslint/no-explicit-any\n\tprivate _onTouched: () => any = () => {};\n\n\t@ContentChildren(BrnToggleDirective, {\n\t\t// Note that this would technically pick up toggles\n\t\t// from nested groups, but that's not a case that we support.\n\t\tdescendants: true,\n\t})\n\t_buttonToggles?: QueryList<BrnToggleDirective>;\n\n\tprivate _name = `brn-button-toggle-group-${uniqueIdCounter++}`;\n\t@Input()\n\tget name(): string {\n\t\treturn this._name;\n\t}\n\n\tset name(value: string) {\n\t\tthis._name = value;\n\t\tthis._markTogglesForCheck();\n\t}\n\n\t@Input({ transform: booleanAttribute })\n\tget vertical(): boolean {\n\t\treturn this._vertical;\n\t}\n\n\tset vertical(value: boolean) {\n\t\tthis._vertical = value;\n\t}\n\n\t/** Value of the toggle group. */\n\t@Input() // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\tget value(): any {\n\t\tconst selected = this._selectionModel ? this._selectionModel.selected : [];\n\n\t\tif (this.multiple) {\n\t\t\treturn selected.map((toggle) => toggle.value);\n\t\t}\n\n\t\treturn selected[0] ? selected[0].value : undefined;\n\t}\n\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\tset value(newValue: any) {\n\t\tif (this._disabled) {\n\t\t\treturn;\n\t\t}\n\t\tthis._setSelectionByValue(newValue);\n\t\tthis.valueChange.emit(this.value);\n\t}\n\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t@Output() readonly valueChange = new EventEmitter<any>();\n\n\t/** Selected button toggles in the group. */\n\tget selected(): BrnToggleDirective | BrnToggleDirective[] {\n\t\tconst selected = this._selectionModel ? this._selectionModel.selected : [];\n\t\treturn this.multiple ? selected : selected[0] || null;\n\t}\n\n\t/** Whether no button toggles need to be selected. */\n\t@Input({ transform: booleanAttribute })\n\tget nullable(): boolean {\n\t\treturn this._nullable;\n\t}\n\n\tset nullable(value: boolean) {\n\t\tthis._nullable = value;\n\t\tthis._markTogglesForCheck();\n\t}\n\n\t/** Whether multiple button toggles can be selected. */\n\t@Input({ transform: booleanAttribute })\n\tget multiple(): boolean {\n\t\treturn this._multiple;\n\t}\n\n\tset multiple(value: boolean) {\n\t\tthis._multiple = value;\n\t\tthis._markTogglesForCheck();\n\t}\n\n\t@Input({ transform: booleanAttribute })\n\tget disabled(): boolean {\n\t\treturn this._disabled;\n\t}\n\n\tset disabled(value: boolean) {\n\t\tthis._disabled = value;\n\t\tthis._buttonToggles?.forEach((toggle) => (toggle.disabled = this._disabled));\n\t\tthis._markTogglesForCheck();\n\t}\n\n\t@Output()\n\t// eslint-disable-next-line @angular-eslint/no-output-native\n\treadonly change = new EventEmitter<BrnButtonToggleChange>();\n\n\tngOnInit() {\n\t\tthis._selectionModel = new SelectionModel<BrnToggleDirective>(this.multiple, undefined, false);\n\t}\n\n\tngAfterContentInit() {\n\t\tif (!this._selectionModel || !this._buttonToggles) return;\n\t\tthis._selectionModel.select(...this._buttonToggles.filter((toggle) => toggle.isOn()));\n\n\t\tthis._buttonToggles.changes\n\t\t\t.pipe(\n\t\t\t\tstartWith(this._buttonToggles),\n\t\t\t\tswitchMap(() => {\n\t\t\t\t\tif (!this._buttonToggles) return of();\n\t\t\t\t\treturn merge(\n\t\t\t\t\t\t...this._buttonToggles\n\t\t\t\t\t\t\t.toArray()\n\t\t\t\t\t\t\t.map((toggle) => toggle.toggled.asObservable().pipe(map((state) => ({ toggle: toggle, state })))),\n\t\t\t\t\t);\n\t\t\t\t}),\n\t\t\t\ttakeUntilDestroyed(this._destroyRef),\n\t\t\t)\n\t\t\t.subscribe(({ state, toggle }) => {\n\t\t\t\tif (!this._selectionModel) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis._onTouched();\n\t\t\t\tif (state === 'on') {\n\t\t\t\t\tif (!this.multiple) {\n\t\t\t\t\t\tthis._skipNullableCheck = true;\n\t\t\t\t\t\tthis._selectionModel.selected.forEach((s) => s.toggleOff());\n\t\t\t\t\t\tthis._skipNullableCheck = false;\n\t\t\t\t\t}\n\t\t\t\t\tthis._selectionModel.select(toggle);\n\t\t\t\t} else {\n\t\t\t\t\tthis._selectionModel.deselect(toggle);\n\t\t\t\t}\n\t\t\t\tthis._updateModelValue(toggle);\n\t\t\t});\n\t}\n\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\twriteValue(value: any) {\n\t\tthis.value = value;\n\t\tthis._cdr.markForCheck();\n\t}\n\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\tregisterOnChange(fn: (value: any) => void) {\n\t\tthis._controlValueAccessorChangeFn = fn;\n\t}\n\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\tregisterOnTouched(fn: any) {\n\t\tthis._onTouched = fn;\n\t}\n\n\tsetDisabledState(isDisabled: boolean): void {\n\t\tthis.disabled = isDisabled;\n\t}\n\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t_canBeNullable(value: any) {\n\t\tif (this._nullable || this._skipNullableCheck) return true;\n\t\tif (this._multiple) {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\t\treturn !((this.value as any[]).length === 1 && this.value[0] === value);\n\t\t}\n\t\treturn this.value !== value;\n\t}\n\n\t/** Updates the selection state of the toggles in the group based on a value. */\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\tprivate _setSelectionByValue(value: any | any[]) {\n\t\tif (!this._buttonToggles) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.multiple && value) {\n\t\t\tif (!Array.isArray(value)) {\n\t\t\t\tthrow Error('Value must be an array in multiple-selection mode.');\n\t\t\t}\n\t\t\tthis._clearSelection();\n\t\t\tvalue.forEach((currentValue) => this._selectValue(currentValue));\n\t\t} else {\n\t\t\tthis._clearSelection();\n\t\t\tthis._selectValue(value);\n\t\t}\n\t}\n\n\t/** Clears the selected toggles. */\n\tprivate _clearSelection() {\n\t\tif (!this._selectionModel) return;\n\t\tthis._selectionModel.clear();\n\t\t(this._buttonToggles ?? []).forEach((toggle) => toggle.toggleOff());\n\t}\n\n\t/** Selects a value if there's a toggle that corresponds to it. */\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\tprivate _selectValue(value: any) {\n\t\tif (!this._selectionModel) return;\n\t\tconst correspondingOption = (this._buttonToggles ?? []).find((toggle) => {\n\t\t\treturn toggle.value != null && toggle.value === value;\n\t\t});\n\n\t\tif (correspondingOption) {\n\t\t\tcorrespondingOption.toggleOn();\n\t\t}\n\t}\n\n\tprivate _updateModelValue(toggle: BrnToggleDirective) {\n\t\tconst value = this.value;\n\t\tconst event = new BrnButtonToggleChange(toggle, value);\n\t\tthis._controlValueAccessorChangeFn(value);\n\t\tthis.change.emit(event);\n\t\tthis.valueChange.emit(value);\n\t}\n\n\t/** Marks all the child button toggles to be checked. */\n\tprivate _markTogglesForCheck() {\n\t\tthis._buttonToggles?.forEach((toggle) => toggle._markForCheck());\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { BrnToggleGroupComponent } from './lib/brn-toggle-group.component';\nimport { BrnToggleDirective } from './lib/brn-toggle.directive';\n\nexport * from './lib/brn-toggle-group.component';\nexport * from './lib/brn-toggle.directive';\n\n@NgModule({\n\timports: [BrnToggleDirective],\n\texports: [BrnToggleDirective],\n})\nexport class BrnToggleModule {}\n\n@NgModule({\n\timports: [BrnToggleDirective, BrnToggleGroupComponent],\n\texports: [BrnToggleDirective, BrnToggleGroupComponent],\n})\nexport class BrnToggleGroupModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}