import { NgComponentOutlet } from '@angular/common';
import { ChangeDetectionStrategy, Component, computed, effect, ElementRef, input, signal, untracked, ViewChild, } from '@angular/core';
import { cn } from './internal/cn';
import { AsComponentPipe } from './pipes/as-component.pipe';
import { IsStringPipe } from './pipes/is-string.pipe';
import { toastState } from './state';
import * as i0 from "@angular/core";
// Default lifetime of a toasts (in ms)
const TOAST_LIFETIME = 4000;
// Default gap between toasts
const GAP = 14;
const SWIPE_THRESHOLD = 20;
const TIME_BEFORE_UNMOUNT = 200;
const defaultClasses = {
    toast: '',
    title: '',
    description: '',
    loader: '',
    closeButton: '',
    cancelButton: '',
    actionButton: '',
    action: '',
    warning: '',
    error: '',
    success: '',
    default: '',
    info: '',
    loading: '',
};
export class ToastComponent {
    constructor() {
        this.cn = cn;
        this.toasts = toastState.toasts;
        this.heights = toastState.heights;
        this.removeHeight = toastState.removeHeight;
        this.addHeight = toastState.addHeight;
        this.dismiss = toastState.dismiss;
        this.toast = input.required();
        this.index = input.required();
        this.expanded = input.required();
        this._invert = input.required({ alias: 'invert' });
        this.position = input.required();
        this.visibleToasts = input.required();
        this.expandByDefault = input.required();
        this.closeButton = input.required();
        this.interacting = input.required();
        this.cancelButtonStyle = input();
        this.actionButtonStyle = input();
        this.duration = input(TOAST_LIFETIME);
        this.descriptionClass = input('');
        this._classes = input({}, { alias: 'classes' });
        this.unstyled = input(false);
        this._class = input('', { alias: 'class' });
        this._style = input({}, { alias: 'style' });
        this.mounted = signal(false);
        this.removed = signal(false);
        this.swiping = signal(false);
        this.swipeOut = signal(false);
        this.offsetBeforeRemove = signal(0);
        this.initialHeight = signal(0);
        this.classes = computed(() => ({
            ...defaultClasses,
            ...this._classes(),
        }));
        this.isFront = computed(() => this.index() === 0);
        this.isVisible = computed(() => this.index() + 1 <= this.visibleToasts());
        this.toastType = computed(() => this.toast().type ?? 'default');
        this.toastClass = computed(() => this.toast().class ?? '');
        this.toastDescriptionClass = computed(() => this.toast().descriptionClass ?? '');
        this.heightIndex = computed(() => this.heights().findIndex(height => height.toastId === this.toast().id));
        this.offset = signal(0);
        this.closeTimerStartTimeRef = 0;
        this.lastCloseTimerStartTimeRef = 0;
        this.pointerStartRef = null;
        this.coords = computed(() => this.position().split('-'));
        this.toastsHeightBefore = computed(() => this.heights().reduce((prev, curr, reducerIndex) => {
            if (reducerIndex >= this.heightIndex())
                return prev;
            return prev + curr.height;
        }, 0));
        this.invert = computed(() => this.toast().invert ?? this._invert());
        this.disabled = computed(() => this.toastType() === 'loading');
        this.remainingTime = 0;
        this.isPromiseLoadingOrInfiniteDuration = computed(() => (this.toast().promise && this.toastType() === 'loading') ||
            this.toast().duration === Number.POSITIVE_INFINITY);
        this.toastClasses = computed(() => cn(this._class(), this.toastClass(), this.classes().toast, this.toast().classes?.toast, this.classes()[this.toastType()], this.toast().classes?.[this.toastType()]));
        this.toastStyle = computed(() => ({
            '--index': `${this.index()}`,
            '--toasts-before': `${this.index()}`,
            '--z-index': `${this.toasts().length - this.index()}`,
            '--offset': `${this.removed() ? this.offsetBeforeRemove() : this.offset()}px`,
            '--initial-height': this.expandByDefault()
                ? 'auto'
                : `${this.initialHeight()}px`,
            ...this._style(),
        }));
        effect(() => {
            const heightIndex = this.heightIndex();
            const toastsHeightBefore = this.toastsHeightBefore();
            untracked(() => this.offset.set(heightIndex * GAP + toastsHeightBefore));
        });
        effect(() => {
            if (this.toast().updated) {
                // if the toast has been updated after the initial render,
                // we want to reset the timer and set the remaining time to the
                // new duration
                clearTimeout(this.timeoutId);
                this.remainingTime =
                    this.toast().duration ?? this.duration() ?? TOAST_LIFETIME;
                this.startTimer();
            }
        });
        effect(onCleanup => {
            if (!this.isPromiseLoadingOrInfiniteDuration()) {
                if (this.expanded() || this.interacting()) {
                    this.pauseTimer();
                }
                else {
                    this.startTimer();
                }
            }
            onCleanup(() => clearTimeout(this.timeoutId));
        });
        effect(() => {
            if (this.toast().delete) {
                this.deleteToast();
            }
        });
    }
    ngAfterViewInit() {
        this.remainingTime =
            this.toast().duration ?? this.duration() ?? TOAST_LIFETIME;
        this.mounted.set(true);
        const height = this.toastRef.nativeElement.getBoundingClientRect().height;
        this.initialHeight.set(height);
        this.addHeight({ toastId: this.toast().id, height });
    }
    ngOnDestroy() {
        clearTimeout(this.timeoutId);
        this.removeHeight(this.toast().id);
    }
    deleteToast() {
        this.removed.set(true);
        this.offsetBeforeRemove.set(this.offset());
        this.removeHeight(this.toast().id);
        setTimeout(() => {
            this.dismiss(this.toast().id);
        }, TIME_BEFORE_UNMOUNT);
    }
    // If toast's duration changes, it will be out of sync with the
    // remainingAtTimeout, so we know we need to restart the timer
    // with the new duration
    // Pause the timer on each hover
    pauseTimer() {
        if (this.lastCloseTimerStartTimeRef < this.closeTimerStartTimeRef) {
            // Get the elapsed time since the timer started
            const elapsedTime = new Date().getTime() - this.closeTimerStartTimeRef;
            this.remainingTime = this.remainingTime - elapsedTime;
        }
        this.lastCloseTimerStartTimeRef = new Date().getTime();
    }
    startTimer() {
        this.closeTimerStartTimeRef = new Date().getTime();
        // Let the toast know it has started
        this.timeoutId = setTimeout(() => {
            this.toast().onAutoClose?.(this.toast());
            this.deleteToast();
        }, this.remainingTime);
    }
    onPointerDown(event) {
        if (this.disabled())
            return;
        this.offsetBeforeRemove.set(this.offset());
        const target = event.target;
        // Ensure we maintain correct pointer capture even when going outside the toast (e.g. when swiping)
        target.setPointerCapture(event.pointerId);
        if (target.tagName === 'BUTTON') {
            return;
        }
        this.swiping.set(true);
        this.pointerStartRef = { x: event.clientX, y: event.clientY };
    }
    onPointerUp() {
        if (this.swipeOut())
            return;
        this.pointerStartRef = null;
        const swipeAmount = Number(this.toastRef.nativeElement.style
            .getPropertyValue('--swipe-amount')
            .replace('px', '') || 0);
        // Remove only if threshold is met
        if (Math.abs(swipeAmount) >= SWIPE_THRESHOLD) {
            this.offsetBeforeRemove.set(this.offset());
            this.toast().onDismiss?.(this.toast());
            this.deleteToast();
            this.swipeOut.set(true);
            return;
        }
        this.toastRef.nativeElement.style.setProperty('--swipe-amount', '0px');
        this.swiping.set(false);
    }
    onPointerMove(event) {
        if (!this.pointerStartRef)
            return;
        const yPosition = event.clientY - this.pointerStartRef.y;
        const xPosition = event.clientX - this.pointerStartRef.x;
        const clamp = this.coords()[0] === 'top' ? Math.min : Math.max;
        const clampedY = clamp(0, yPosition);
        const swipeStartThreshold = event.pointerType === 'touch' ? 10 : 2;
        const isAllowedToSwipe = Math.abs(clampedY) > swipeStartThreshold;
        if (isAllowedToSwipe) {
            this.toastRef.nativeElement.style.setProperty('--swipe-amount', `${yPosition}px`);
        }
        else if (Math.abs(xPosition) > swipeStartThreshold) {
            // User is swiping in wrong direction, so we disable swipe gesture
            // for the current pointer down interaction
            this.pointerStartRef = null;
        }
    }
    onCloseButtonClick() {
        if (this.disabled())
            return;
        this.deleteToast();
        this.toast().onDismiss?.(this.toast());
    }
    onCancelClick() {
        this.deleteToast();
        const toast = this.toast();
        if (toast.cancel?.onClick) {
            toast.cancel.onClick();
        }
    }
    onActionClick(event) {
        const toast = this.toast();
        toast.action?.onClick(event);
        if (event.defaultPrevented)
            return;
        this.deleteToast();
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.1.3", ngImport: i0, type: ToastComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "17.1.3", type: ToastComponent, isStandalone: true, selector: "ngx-sonner-toast", inputs: { toast: { classPropertyName: "toast", publicName: "toast", isSignal: true, isRequired: true, transformFunction: null }, index: { classPropertyName: "index", publicName: "index", isSignal: true, isRequired: true, transformFunction: null }, expanded: { classPropertyName: "expanded", publicName: "expanded", isSignal: true, isRequired: true, transformFunction: null }, _invert: { classPropertyName: "_invert", publicName: "invert", isSignal: true, isRequired: true, transformFunction: null }, position: { classPropertyName: "position", publicName: "position", isSignal: true, isRequired: true, transformFunction: null }, visibleToasts: { classPropertyName: "visibleToasts", publicName: "visibleToasts", isSignal: true, isRequired: true, transformFunction: null }, expandByDefault: { classPropertyName: "expandByDefault", publicName: "expandByDefault", isSignal: true, isRequired: true, transformFunction: null }, closeButton: { classPropertyName: "closeButton", publicName: "closeButton", isSignal: true, isRequired: true, transformFunction: null }, interacting: { classPropertyName: "interacting", publicName: "interacting", isSignal: true, isRequired: true, transformFunction: null }, cancelButtonStyle: { classPropertyName: "cancelButtonStyle", publicName: "cancelButtonStyle", isSignal: true, isRequired: false, transformFunction: null }, actionButtonStyle: { classPropertyName: "actionButtonStyle", publicName: "actionButtonStyle", isSignal: true, isRequired: false, transformFunction: null }, duration: { classPropertyName: "duration", publicName: "duration", isSignal: true, isRequired: false, transformFunction: null }, descriptionClass: { classPropertyName: "descriptionClass", publicName: "descriptionClass", isSignal: true, isRequired: false, transformFunction: null }, _classes: { classPropertyName: "_classes", publicName: "classes", isSignal: true, isRequired: false, transformFunction: null }, unstyled: { classPropertyName: "unstyled", publicName: "unstyled", isSignal: true, isRequired: false, transformFunction: null }, _class: { classPropertyName: "_class", publicName: "class", isSignal: true, isRequired: false, transformFunction: null }, _style: { classPropertyName: "_style", publicName: "style", isSignal: true, isRequired: false, transformFunction: null } }, viewQueries: [{ propertyName: "toastRef", first: true, predicate: ["toastRef"], descendants: true }], ngImport: i0, template: `
    <li
      #toastRef
      data-sonner-toast
      [attr.aria-live]="toast().important ? 'assertive' : 'polite'"
      aria-atomic="true"
      role="status"
      tabindex="0"
      [class]="toastClasses()"
      [attr.data-styled]="
        !(toast().component || toast().unstyled || unstyled())
      "
      [attr.data-mounted]="mounted()"
      [attr.data-promise]="!!toast().promise"
      [attr.data-removed]="removed()"
      [attr.data-visible]="isVisible()"
      [attr.data-y-position]="coords()[0]"
      [attr.data-x-position]="coords()[1]"
      [attr.data-index]="index()"
      [attr.data-front]="isFront()"
      [attr.data-swiping]="swiping()"
      [attr.data-type]="toastType()"
      [attr.data-invert]="invert()"
      [attr.data-swipe-out]="swipeOut()"
      [attr.data-expanded]="expanded() || (expandByDefault() && mounted())"
      [style]="toastStyle()"
      (pointerdown)="onPointerDown($event)"
      (pointerup)="onPointerUp()"
      (pointermove)="onPointerMove($event)">
      @if (closeButton() && !toast().component) {
        <button
          aria-label="Close toast"
          [attr.data-disabled]="disabled()"
          data-close-button
          (click)="onCloseButtonClick()"
          [class]="cn(classes().closeButton, toast().classes?.closeButton)">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="12"
            height="12"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18" />
            <line x1="6" y1="6" x2="18" y2="18" />
          </svg>
        </button>
      }

      @if (toast().component) {
        <ng-container
          *ngComponentOutlet="
            toast().component | asComponent;
            inputs: toast().componentProps
          " />
      } @else {
        @if (toastType() !== 'default' || toast().icon || toast().promise) {
          <div data-icon>
            @if (
              toast().promise || (toastType() === 'loading' && !toast().icon)
            ) {
              <ng-content select="[loading-icon]" />
            }
            @if (toast().icon) {
              <ng-container
                *ngComponentOutlet="
                  toast().icon | asComponent;
                  inputs: toast().componentProps
                " />
            } @else {
              @switch (toastType()) {
                @case ('success') {
                  <ng-content select="[success-icon]" />
                }
                @case ('error') {
                  <ng-content select="[error-icon]" />
                }
                @case ('warning') {
                  <ng-content select="[warning-icon]" />
                }
                @case ('info') {
                  <ng-content select="[info-icon]" />
                }
              }
            }
          </div>
        }
        <div data-content>
          @if (toast().title; as title) {
            <div
              data-title
              [class]="cn(classes().title, toast().classes?.title)">
              @if (title | isString) {
                {{ toast().title }}
              } @else {
                <ng-container
                  *ngComponentOutlet="
                    title | asComponent;
                    inputs: toast().componentProps
                  " />
              }
            </div>
          }
          @if (toast().description; as description) {
            <div
              data-description
              [class]="
                cn(
                  descriptionClass(),
                  toastDescriptionClass(),
                  classes().description,
                  toast().classes?.description
                )
              ">
              @if (description | isString) {
                {{ toast().description }}
              } @else {
                <ng-container
                  *ngComponentOutlet="
                    description | asComponent;
                    inputs: toast().componentProps
                  " />
              }
            </div>
          }
        </div>
        @if (toast().cancel; as cancel) {
          <button
            data-button
            data-cancel
            [style]="cancelButtonStyle() ?? toast().cancelButtonStyle"
            [class]="cn(classes().cancelButton, toast().classes?.cancelButton)"
            (click)="onCancelClick()">
            {{ cancel.label }}
          </button>
        }
        @if (toast().action; as action) {
          <button
            data-button
            [style]="actionButtonStyle() ?? toast().actionButtonStyle"
            [class]="cn(classes().actionButton, toast().classes?.actionButton)"
            (click)="onActionClick($event)">
            {{ action.label }}
          </button>
        }
      }
    </li>
  `, isInline: true, dependencies: [{ kind: "directive", type: NgComponentOutlet, selector: "[ngComponentOutlet]", inputs: ["ngComponentOutlet", "ngComponentOutletInputs", "ngComponentOutletInjector", "ngComponentOutletContent", "ngComponentOutletNgModule", "ngComponentOutletNgModuleFactory"] }, { kind: "pipe", type: IsStringPipe, name: "isString" }, { kind: "pipe", type: AsComponentPipe, name: "asComponent" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.1.3", ngImport: i0, type: ToastComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'ngx-sonner-toast',
                    standalone: true,
                    imports: [NgComponentOutlet, IsStringPipe, AsComponentPipe],
                    template: `
    <li
      #toastRef
      data-sonner-toast
      [attr.aria-live]="toast().important ? 'assertive' : 'polite'"
      aria-atomic="true"
      role="status"
      tabindex="0"
      [class]="toastClasses()"
      [attr.data-styled]="
        !(toast().component || toast().unstyled || unstyled())
      "
      [attr.data-mounted]="mounted()"
      [attr.data-promise]="!!toast().promise"
      [attr.data-removed]="removed()"
      [attr.data-visible]="isVisible()"
      [attr.data-y-position]="coords()[0]"
      [attr.data-x-position]="coords()[1]"
      [attr.data-index]="index()"
      [attr.data-front]="isFront()"
      [attr.data-swiping]="swiping()"
      [attr.data-type]="toastType()"
      [attr.data-invert]="invert()"
      [attr.data-swipe-out]="swipeOut()"
      [attr.data-expanded]="expanded() || (expandByDefault() && mounted())"
      [style]="toastStyle()"
      (pointerdown)="onPointerDown($event)"
      (pointerup)="onPointerUp()"
      (pointermove)="onPointerMove($event)">
      @if (closeButton() && !toast().component) {
        <button
          aria-label="Close toast"
          [attr.data-disabled]="disabled()"
          data-close-button
          (click)="onCloseButtonClick()"
          [class]="cn(classes().closeButton, toast().classes?.closeButton)">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="12"
            height="12"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18" />
            <line x1="6" y1="6" x2="18" y2="18" />
          </svg>
        </button>
      }

      @if (toast().component) {
        <ng-container
          *ngComponentOutlet="
            toast().component | asComponent;
            inputs: toast().componentProps
          " />
      } @else {
        @if (toastType() !== 'default' || toast().icon || toast().promise) {
          <div data-icon>
            @if (
              toast().promise || (toastType() === 'loading' && !toast().icon)
            ) {
              <ng-content select="[loading-icon]" />
            }
            @if (toast().icon) {
              <ng-container
                *ngComponentOutlet="
                  toast().icon | asComponent;
                  inputs: toast().componentProps
                " />
            } @else {
              @switch (toastType()) {
                @case ('success') {
                  <ng-content select="[success-icon]" />
                }
                @case ('error') {
                  <ng-content select="[error-icon]" />
                }
                @case ('warning') {
                  <ng-content select="[warning-icon]" />
                }
                @case ('info') {
                  <ng-content select="[info-icon]" />
                }
              }
            }
          </div>
        }
        <div data-content>
          @if (toast().title; as title) {
            <div
              data-title
              [class]="cn(classes().title, toast().classes?.title)">
              @if (title | isString) {
                {{ toast().title }}
              } @else {
                <ng-container
                  *ngComponentOutlet="
                    title | asComponent;
                    inputs: toast().componentProps
                  " />
              }
            </div>
          }
          @if (toast().description; as description) {
            <div
              data-description
              [class]="
                cn(
                  descriptionClass(),
                  toastDescriptionClass(),
                  classes().description,
                  toast().classes?.description
                )
              ">
              @if (description | isString) {
                {{ toast().description }}
              } @else {
                <ng-container
                  *ngComponentOutlet="
                    description | asComponent;
                    inputs: toast().componentProps
                  " />
              }
            </div>
          }
        </div>
        @if (toast().cancel; as cancel) {
          <button
            data-button
            data-cancel
            [style]="cancelButtonStyle() ?? toast().cancelButtonStyle"
            [class]="cn(classes().cancelButton, toast().classes?.cancelButton)"
            (click)="onCancelClick()">
            {{ cancel.label }}
          </button>
        }
        @if (toast().action; as action) {
          <button
            data-button
            [style]="actionButtonStyle() ?? toast().actionButtonStyle"
            [class]="cn(classes().actionButton, toast().classes?.actionButton)"
            (click)="onActionClick($event)">
            {{ action.label }}
          </button>
        }
      }
    </li>
  `,
                    changeDetection: ChangeDetectionStrategy.OnPush,
                }]
        }], ctorParameters: () => [], propDecorators: { toastRef: [{
                type: ViewChild,
                args: ['toastRef']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9hc3QuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3gtc29ubmVyL3NyYy9saWIvdG9hc3QuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ3BELE9BQU8sRUFFTCx1QkFBdUIsRUFDdkIsU0FBUyxFQUNULFFBQVEsRUFDUixNQUFNLEVBQ04sVUFBVSxFQUNWLEtBQUssRUFFTCxNQUFNLEVBQ04sU0FBUyxFQUNULFNBQVMsR0FDVixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsRUFBRSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ25DLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUM1RCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDdEQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLFNBQVMsQ0FBQzs7QUFHckMsdUNBQXVDO0FBQ3ZDLE1BQU0sY0FBYyxHQUFHLElBQUksQ0FBQztBQUU1Qiw2QkFBNkI7QUFDN0IsTUFBTSxHQUFHLEdBQUcsRUFBRSxDQUFDO0FBRWYsTUFBTSxlQUFlLEdBQUcsRUFBRSxDQUFDO0FBRTNCLE1BQU0sbUJBQW1CLEdBQUcsR0FBRyxDQUFDO0FBRWhDLE1BQU0sY0FBYyxHQUFvQjtJQUN0QyxLQUFLLEVBQUUsRUFBRTtJQUNULEtBQUssRUFBRSxFQUFFO0lBQ1QsV0FBVyxFQUFFLEVBQUU7SUFDZixNQUFNLEVBQUUsRUFBRTtJQUNWLFdBQVcsRUFBRSxFQUFFO0lBQ2YsWUFBWSxFQUFFLEVBQUU7SUFDaEIsWUFBWSxFQUFFLEVBQUU7SUFDaEIsTUFBTSxFQUFFLEVBQUU7SUFDVixPQUFPLEVBQUUsRUFBRTtJQUNYLEtBQUssRUFBRSxFQUFFO0lBQ1QsT0FBTyxFQUFFLEVBQUU7SUFDWCxPQUFPLEVBQUUs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Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBc0pULDREQXZKUyxpQkFBaUIsK09BQUUsWUFBWSw0Q0FBRSxlQUFlOzsyRkEwSi9DLGNBQWM7a0JBN0oxQixTQUFTO21CQUFDO29CQUNULFFBQVEsRUFBRSxrQkFBa0I7b0JBQzVCLFVBQVUsRUFBRSxJQUFJO29CQUNoQixPQUFPLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxZQUFZLEVBQUUsZUFBZSxDQUFDO29CQUMzRCxRQUFRLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQXNKVDtvQkFDRCxlQUFlLEVBQUUsdUJBQXVCLENBQUMsTUFBTTtpQkFDaEQ7d0RBb0N3QixRQUFRO3NCQUE5QixTQUFTO3VCQUFDLFVBQVUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZ0NvbXBvbmVudE91dGxldCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQge1xuICBBZnRlclZpZXdJbml0LFxuICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcbiAgQ29tcG9uZW50LFxuICBjb21wdXRlZCxcbiAgZWZmZWN0LFxuICBFbGVtZW50UmVmLFxuICBpbnB1dCxcbiAgT25EZXN0cm95LFxuICBzaWduYWwsXG4gIHVudHJhY2tlZCxcbiAgVmlld0NoaWxkLFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IGNuIH0gZnJvbSAnLi9pbnRlcm5hbC9jbic7XG5pbXBvcnQgeyBBc0NvbXBvbmVudFBpcGUgfSBmcm9tICcuL3BpcGVzL2FzLWNvbXBvbmVudC5waXBlJztcbmltcG9ydCB7IElzU3RyaW5nUGlwZSB9IGZyb20gJy4vcGlwZXMvaXMtc3RyaW5nLnBpcGUnO1xuaW1wb3J0IHsgdG9hc3RTdGF0ZSB9IGZyb20gJy4vc3RhdGUnO1xuaW1wb3J0IHsgVG9hc3RDbGFzc25hbWVzLCBUb2FzdFByb3BzIH0gZnJvbSAnLi90eXBlcyc7XG5cbi8vIERlZmF1bHQgbGlmZXRpbWUgb2YgYSB0b2FzdHMgKGluIG1zKVxuY29uc3QgVE9BU1RfTElGRVRJTUUgPSA0MDAwO1xuXG4vLyBEZWZhdWx0IGdhcCBiZXR3ZWVuIHRvYXN0c1xuY29uc3QgR0FQID0gMTQ7XG5cbmNvbnN0IFNXSVBFX1RIUkVTSE9MRCA9IDIwO1xuXG5jb25zdCBUSU1FX0JFRk9SRV9VTk1PVU5UID0gMjAwO1xuXG5jb25zdCBkZWZhdWx0Q2xhc3NlczogVG9hc3RDbGFzc25hbWVzID0ge1xuICB0b2FzdDogJycsXG4gIHRpdGxlOiAnJyxcbiAgZGVzY3JpcHRpb246ICcnLFxuICBsb2FkZXI6ICcnLFxuICBjbG9zZUJ1dHRvbjogJycsXG4gIGNhbmNlbEJ1dHRvbjogJycsXG4gIGFjdGlvbkJ1dHRvbjogJycsXG4gIGFjdGlvbjogJycsXG4gIHdhcm5pbmc6ICcnLFxuICBlcnJvcjogJycsXG4gIHN1Y2Nlc3M6ICcnLFxuICBkZWZhdWx0OiAnJyxcbiAgaW5mbzogJycsXG4gIGxvYWRpbmc6ICcnLFxufTtcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnbmd4LXNvbm5lci10b2FzdCcsXG4gIHN0YW5kYWxvbmU6IHRydWUsXG4gIGltcG9ydHM6IFtOZ0NvbXBvbmVudE91dGxldCwgSXNTdHJpbmdQaXBlLCBBc0NvbXBvbmVudFBpcGVdLFxuICB0ZW1wbGF0ZTogYFxuICAgIDxsaVxuICAgICAgI3RvYXN0UmVmXG4gICAgICBkYXRhLXNvbm5lci10b2FzdFxuICAgICAgW2F0dHIuYXJpYS1saXZlXT1cInRvYXN0KCkuaW1wb3J0YW50ID8gJ2Fzc2VydGl2ZScgOiAncG9saXRlJ1wiXG4gICAgICBhcmlhLWF0b21pYz1cInRydWVcIlxuICAgICAgcm9sZT1cInN0YXR1c1wiXG4gICAgICB0YWJpbmRleD1cIjBcIlxuICAgICAgW2NsYXNzXT1cInRvYXN0Q2xhc3NlcygpXCJcbiAgICAgIFthdHRyLmRhdGEtc3R5bGVkXT1cIlxuICAgICAgICAhKHRvYXN0KCkuY29tcG9uZW50IHx8IHRvYXN0KCkudW5zdHlsZWQgfHwgdW5zdHlsZWQoKSlcbiAgICAgIFwiXG4gICAgICBbYXR0ci5kYXRhLW1vdW50ZWRdPVwibW91bnRlZCgpXCJcbiAgICAgIFthdHRyLmRhdGEtcHJvbWlzZV09XCIhIXRvYXN0KCkucHJvbWlzZVwiXG4gICAgICBbYXR0ci5kYXRhLXJlbW92ZWRdPVwicmVtb3ZlZCgpXCJcbiAgICAgIFthdHRyLmRhdGEtdmlzaWJsZV09XCJpc1Zpc2libGUoKVwiXG4gICAgICBbYXR0ci5kYXRhLXktcG9zaXRpb25dPVwiY29vcmRzKClbMF1cIlxuICAgICAgW2F0dHIuZGF0YS14LXBvc2l0aW9uXT1cImNvb3JkcygpWzFdXCJcbiAgICAgIFthdHRyLmRhdGEtaW5kZXhdPVwiaW5kZXgoKVwiXG4gICAgICBbYXR0ci5kYXRhLWZyb250XT1cImlzRnJvbnQoKVwiXG4gICAgICBbYXR0ci5kYXRhLXN3aXBpbmddPVwic3dpcGluZygpXCJcbiAgICAgIFthdHRyLmRhdGEtdHlwZV09XCJ0b2FzdFR5cGUoKVwiXG4gICAgICBbYXR0ci5kYXRhLWludmVydF09XCJpbnZlcnQoKVwiXG4gICAgICBbYXR0ci5kYXRhLXN3aXBlLW91dF09XCJzd2lwZU91dCgpXCJcbiAgICAgIFthdHRyLmRhdGEtZXhwYW5kZWRdPVwiZXhwYW5kZWQoKSB8fCAoZXhwYW5kQnlEZWZhdWx0KCkgJiYgbW91bnRlZCgpKVwiXG4gICAgICBbc3R5bGVdPVwidG9hc3RTdHlsZSgpXCJcbiAgICAgIChwb2ludGVyZG93bik9XCJvblBvaW50ZXJEb3duKCRldmVudClcIlxuICAgICAgKHBvaW50ZXJ1cCk9XCJvblBvaW50ZXJVcCgpXCJcbiAgICAgIChwb2ludGVybW92ZSk9XCJvblBvaW50ZXJNb3ZlKCRldmVudClcIj5cbiAgICAgIEBpZiAoY2xvc2VCdXR0b24oKSAmJiAhdG9hc3QoKS5jb21wb25lbnQpIHtcbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGFyaWEtbGFiZWw9XCJDbG9zZSB0b2FzdFwiXG4gICAgICAgICAgW2F0dHIuZGF0YS1kaXNhYmxlZF09XCJkaXNhYmxlZCgpXCJcbiAgICAgICAgICBkYXRhLWNsb3NlLWJ1dHRvblxuICAgICAgICAgIChjbGljayk9XCJvbkNsb3NlQnV0dG9uQ2xpY2soKVwiXG4gICAgICAgICAgW2NsYXNzXT1cImNuKGNsYXNzZXMoKS5jbG9zZUJ1dHRvbiwgdG9hc3QoKS5jbGFzc2VzPy5jbG9zZUJ1dHRvbilcIj5cbiAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICAgICAgICAgIHdpZHRoPVwiMTJcIlxuICAgICAgICAgICAgaGVpZ2h0PVwiMTJcIlxuICAgICAgICAgICAgdmlld0JveD1cIjAgMCAyNCAyNFwiXG4gICAgICAgICAgICBmaWxsPVwibm9uZVwiXG4gICAgICAgICAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgc3Ryb2tlLXdpZHRoPVwiMS41XCJcbiAgICAgICAgICAgIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIlxuICAgICAgICAgICAgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj5cbiAgICAgICAgICAgIDxsaW5lIHgxPVwiMThcIiB5MT1cIjZcIiB4Mj1cIjZcIiB5Mj1cIjE4XCIgLz5cbiAgICAgICAgICAgIDxsaW5lIHgxPVwiNlwiIHkxPVwiNlwiIHgyPVwiMThcIiB5Mj1cIjE4XCIgLz5cbiAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICB9XG5cbiAgICAgIEBpZiAodG9hc3QoKS5jb21wb25lbnQpIHtcbiAgICAgICAgPG5nLWNvbnRhaW5lclxuICAgICAgICAgICpuZ0NvbXBvbmVudE91dGxldD1cIlxuICAgICAgICAgICAgdG9hc3QoKS5jb21wb25lbnQgfCBhc0NvbXBvbmVudDtcbiAgICAgICAgICAgIGlucHV0czogdG9hc3QoKS5jb21wb25lbnRQcm9wc1xuICAgICAgICAgIFwiIC8+XG4gICAgICB9IEBlbHNlIHtcbiAgICAgICAgQGlmICh0b2FzdFR5cGUoKSAhPT0gJ2RlZmF1bHQnIHx8IHRvYXN0KCkuaWNvbiB8fCB0b2FzdCgpLnByb21pc2UpIHtcbiAgICAgICAgICA8ZGl2IGRhdGEtaWNvbj5cbiAgICAgICAgICAgIEBpZiAoXG4gICAgICAgICAgICAgIHRvYXN0KCkucHJvbWlzZSB8fCAodG9hc3RUeXBlKCkgPT09ICdsb2FkaW5nJyAmJiAhdG9hc3QoKS5pY29uKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIDxuZy1jb250ZW50IHNlbGVjdD1cIltsb2FkaW5nLWljb25dXCIgLz5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEBpZiAodG9hc3QoKS5pY29uKSB7XG4gICAgICAgICAgICAgIDxuZy1jb250YWluZXJcbiAgICAgICAgICAgICAgICAqbmdDb21wb25lbnRPdXRsZXQ9XCJcbiAgICAgICAgICAgICAgICAgIHRvYXN0KCkuaWNvbiB8IGFzQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgICAgaW5wdXRzOiB0b2FzdCgpLmNvbXBvbmVudFByb3BzXG4gICAgICAgICAgICAgICAgXCIgLz5cbiAgICAgICAgICAgIH0gQGVsc2Uge1xuICAgICAgICAgICAgICBAc3dpdGNoICh0b2FzdFR5cGUoKSkge1xuICAgICAgICAgICAgICAgIEBjYXNlICgnc3VjY2VzcycpIHtcbiAgICAgICAgICAgICAgICAgIDxuZy1jb250ZW50IHNlbGVjdD1cIltzdWNjZXNzLWljb25dXCIgLz5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgQGNhc2UgKCdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgIDxuZy1jb250ZW50IHNlbGVjdD1cIltlcnJvci1pY29uXVwiIC8+XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIEBjYXNlICgnd2FybmluZycpIHtcbiAgICAgICAgICAgICAgICAgIDxuZy1jb250ZW50IHNlbGVjdD1cIlt3YXJuaW5nLWljb25dXCIgLz5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgQGNhc2UgKCdpbmZvJykge1xuICAgICAgICAgICAgICAgICAgPG5nLWNvbnRlbnQgc2VsZWN0PVwiW2luZm8taWNvbl1cIiAvPlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIDxkaXYgZGF0YS1jb250ZW50PlxuICAgICAgICAgIEBpZiAodG9hc3QoKS50aXRsZTsgYXMgdGl0bGUpIHtcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgZGF0YS10aXRsZVxuICAgICAgICAgICAgICBbY2xhc3NdPVwiY24oY2xhc3NlcygpLnRpdGxlLCB0b2FzdCgpLmNsYXNzZXM/LnRpdGxlKVwiPlxuICAgICAgICAgICAgICBAaWYgKHRpdGxlIHwgaXNTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICB7eyB0b2FzdCgpLnRpdGxlIH19XG4gICAgICAgICAgICAgIH0gQGVsc2Uge1xuICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXJcbiAgICAgICAgICAgICAgICAgICpuZ0NvbXBvbmVudE91dGxldD1cIlxuICAgICAgICAgICAgICAgICAgICB0aXRsZSB8IGFzQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgICAgICBpbnB1dHM6IHRvYXN0KCkuY29tcG9uZW50UHJvcHNcbiAgICAgICAgICAgICAgICAgIFwiIC8+XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIH1cbiAgICAgICAgICBAaWYgKHRvYXN0KCkuZGVzY3JpcHRpb247IGFzIGRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGRhdGEtZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgW2NsYXNzXT1cIlxuICAgICAgICAgICAgICAgIGNuKFxuICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb25DbGFzcygpLFxuICAgICAgICAgICAgICAgICAgdG9hc3REZXNjcmlwdGlvbkNsYXNzKCksXG4gICAgICAgICAgICAgICAgICBjbGFzc2VzKCkuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICB0b2FzdCgpLmNsYXNzZXM/LmRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBcIj5cbiAgICAgICAgICAgICAgQGlmIChkZXNjcmlwdGlvbiB8IGlzU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAge3sgdG9hc3QoKS5kZXNjcmlwdGlvbiB9fVxuICAgICAgICAgICAgICB9IEBlbHNlIHtcbiAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyXG4gICAgICAgICAgICAgICAgICAqbmdDb21wb25lbnRPdXRsZXQ9XCJcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gfCBhc0NvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRzOiB0b2FzdCgpLmNvbXBvbmVudFByb3BzXG4gICAgICAgICAgICAgICAgICBcIiAvPlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBAaWYgKHRvYXN0KCkuY2FuY2VsOyBhcyBjYW5jZWwpIHtcbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBkYXRhLWJ1dHRvblxuICAgICAgICAgICAgZGF0YS1jYW5jZWxcbiAgICAgICAgICAgIFtzdHlsZV09XCJjYW5jZWxCdXR0b25TdHlsZSgpID8/IHRvYXN0KCkuY2FuY2VsQnV0dG9uU3R5bGVcIlxuICAgICAgICAgICAgW2NsYXNzXT1cImNuKGNsYXNzZXMoKS5jYW5jZWxCdXR0b24sIHRvYXN0KCkuY2xhc3Nlcz8uY2FuY2VsQnV0dG9uKVwiXG4gICAgICAgICAgICAoY2xpY2spPVwib25DYW5jZWxDbGljaygpXCI+XG4gICAgICAgICAgICB7eyBjYW5jZWwubGFiZWwgfX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgfVxuICAgICAgICBAaWYgKHRvYXN0KCkuYWN0aW9uOyBhcyBhY3Rpb24pIHtcbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBkYXRhLWJ1dHRvblxuICAgICAgICAgICAgW3N0eWxlXT1cImFjdGlvbkJ1dHRvblN0eWxlKCkgPz8gdG9hc3QoKS5hY3Rpb25CdXR0b25TdHlsZVwiXG4gICAgICAgICAgICBbY2xhc3NdPVwiY24oY2xhc3NlcygpLmFjdGlvbkJ1dHRvbiwgdG9hc3QoKS5jbGFzc2VzPy5hY3Rpb25CdXR0b24pXCJcbiAgICAgICAgICAgIChjbGljayk9XCJvbkFjdGlvbkNsaWNrKCRldmVudClcIj5cbiAgICAgICAgICAgIHt7IGFjdGlvbi5sYWJlbCB9fVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICB9XG4gICAgICB9XG4gICAgPC9saT5cbiAgYCxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG59KVxuZXhwb3J0IGNsYXNzIFRvYXN0Q29tcG9uZW50IGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdCwgT25EZXN0cm95IHtcbiAgcHJvdGVjdGVkIHJlYWRvbmx5IGNuID0gY247XG5cbiAgdG9hc3RzID0gdG9hc3RTdGF0ZS50b2FzdHM7XG4gIGhlaWdodHMgPSB0b2FzdFN0YXRlLmhlaWdodHM7XG4gIHJlbW92ZUhlaWdodCA9IHRvYXN0U3RhdGUucmVtb3ZlSGVpZ2h0O1xuICBhZGRIZWlnaHQgPSB0b2FzdFN0YXRlLmFkZEhlaWdodDtcbiAgZGlzbWlzcyA9IHRvYXN0U3RhdGUuZGlzbWlzcztcblxuICB0b2FzdCA9IGlucHV0LnJlcXVpcmVkPFRvYXN0UHJvcHNbJ3RvYXN0J10+KCk7XG4gIGluZGV4ID0gaW5wdXQucmVxdWlyZWQ8VG9hc3RQcm9wc1snaW5kZXgnXT4oKTtcbiAgZXhwYW5kZWQgPSBpbnB1dC5yZXF1aXJlZDxUb2FzdFByb3BzWydleHBhbmRlZCddPigpO1xuICBfaW52ZXJ0ID0gaW5wdXQucmVxdWlyZWQ8VG9hc3RQcm9wc1snaW52ZXJ0J10+KHsgYWxpYXM6ICdpbnZlcnQnIH0pO1xuICBwb3NpdGlvbiA9IGlucHV0LnJlcXVpcmVkPFRvYXN0UHJvcHNbJ3Bvc2l0aW9uJ10+KCk7XG4gIHZpc2libGVUb2FzdHMgPSBpbnB1dC5yZXF1aXJlZDxUb2FzdFByb3BzWyd2aXNpYmxlVG9hc3RzJ10+KCk7XG4gIGV4cGFuZEJ5RGVmYXVsdCA9IGlucHV0LnJlcXVpcmVkPFRvYXN0UHJvcHNbJ2V4cGFuZEJ5RGVmYXVsdCddPigpO1xuICBjbG9zZUJ1dHRvbiA9IGlucHV0LnJlcXVpcmVkPFRvYXN0UHJvcHNbJ2Nsb3NlQnV0dG9uJ10+KCk7XG4gIGludGVyYWN0aW5nID0gaW5wdXQucmVxdWlyZWQ8VG9hc3RQcm9wc1snaW50ZXJhY3RpbmcnXT4oKTtcbiAgY2FuY2VsQnV0dG9uU3R5bGUgPSBpbnB1dDxUb2FzdFByb3BzWydjYW5jZWxCdXR0b25TdHlsZSddPigpO1xuICBhY3Rpb25CdXR0b25TdHlsZSA9IGlucHV0PFRvYXN0UHJvcHNbJ2FjdGlvbkJ1dHRvblN0eWxlJ10+KCk7XG4gIGR1cmF0aW9uID0gaW5wdXQ8VG9hc3RQcm9wc1snZHVyYXRpb24nXT4oVE9BU1RfTElGRVRJTUUpO1xuICBkZXNjcmlwdGlvbkNsYXNzID0gaW5wdXQ8VG9hc3RQcm9wc1snZGVzY3JpcHRpb25DbGFzcyddPignJyk7XG4gIF9jbGFzc2VzID0gaW5wdXQ8VG9hc3RQcm9wc1snY2xhc3NlcyddPih7fSwgeyBhbGlhczogJ2NsYXNzZXMnIH0pO1xuICB1bnN0eWxlZCA9IGlucHV0PFRvYXN0UHJvcHNbJ3Vuc3R5bGVkJ10+KGZhbHNlKTtcbiAgX2NsYXNzID0gaW5wdXQoJycsIHsgYWxpYXM6ICdjbGFzcycgfSk7XG4gIF9zdHlsZSA9IGlucHV0PFJlY29yZDxzdHJpbmcsIHN0cmluZz4+KHt9LCB7IGFsaWFzOiAnc3R5bGUnIH0pO1xuXG4gIG1vdW50ZWQgPSBzaWduYWwoZmFsc2UpO1xuICByZW1vdmVkID0gc2lnbmFsKGZhbHNlKTtcbiAgc3dpcGluZyA9IHNpZ25hbChmYWxzZSk7XG4gIHN3aXBlT3V0ID0gc2lnbmFsKGZhbHNlKTtcbiAgb2Zmc2V0QmVmb3JlUmVtb3ZlID0gc2lnbmFsKDApO1xuICBpbml0aWFsSGVpZ2h0ID0gc2lnbmFsKDApO1xuXG4gIC8vIHZpZXdDaGlsZC5yZXF1aXJlZDxFbGVtZW50UmVmPEhUTUxMSUVsZW1lbnQ+PigndG9hc3RSZWYnKVxuICBAVmlld0NoaWxkKCd0b2FzdFJlZicpIHRvYXN0UmVmITogRWxlbWVudFJlZjxIVE1MTElFbGVtZW50PjtcblxuICBjbGFzc2VzOiBhbnkgPSBjb21wdXRlZCgoKSA9PiAoe1xuICAgIC4uLmRlZmF1bHRDbGFzc2VzLFxuICAgIC4uLnRoaXMuX2NsYXNzZXMoKSxcbiAgfSkpO1xuXG4gIGlzRnJvbnQgPSBjb21wdXRlZCgoKSA9PiB0aGlzLmluZGV4KCkgPT09IDApO1xuICBpc1Zpc2libGUgPSBjb21wdXRlZCgoKSA9PiB0aGlzLmluZGV4KCkgKyAxIDw9IHRoaXMudmlzaWJsZVRvYXN0cygpKTtcbiAgdG9hc3RUeXBlID0gY29tcHV0ZWQoKCkgPT4gdGhpcy50b2FzdCgpLnR5cGUgPz8gJ2RlZmF1bHQnKTtcbiAgdG9hc3RDbGFzcyA9IGNvbXB1dGVkKCgpID0+IHRoaXMudG9hc3QoKS5jbGFzcyA/PyAnJyk7XG4gIHRvYXN0RGVzY3JpcHRpb25DbGFzcyA9IGNvbXB1dGVkKCgpID0+IHRoaXMudG9hc3QoKS5kZXNjcmlwdGlvbkNsYXNzID8/ICcnKTtcblxuICBoZWlnaHRJbmRleCA9IGNvbXB1dGVkKCgpID0+XG4gICAgdGhpcy5oZWlnaHRzKCkuZmluZEluZGV4KGhlaWdodCA9PiBoZWlnaHQudG9hc3RJZCA9PT0gdGhpcy50b2FzdCgpLmlkKVxuICApO1xuXG4gIG9mZnNldCA9IHNpZ25hbCgwKTtcblxuICBjbG9zZVRpbWVyU3RhcnRUaW1lUmVmID0gMDtcbiAgbGFzdENsb3NlVGltZXJTdGFydFRpbWVSZWYgPSAwO1xuICBwb2ludGVyU3RhcnRSZWY6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSB8IG51bGwgPSBudWxsO1xuXG4gIGNvb3JkcyA9IGNvbXB1dGVkKCgpID0+IHRoaXMucG9zaXRpb24oKS5zcGxpdCgnLScpKTtcbiAgdG9hc3RzSGVpZ2h0QmVmb3JlID0gY29tcHV0ZWQoKCkgPT5cbiAgICB0aGlzLmhlaWdodHMoKS5yZWR1Y2UoKHByZXYsIGN1cnIsIHJlZHVjZXJJbmRleCkgPT4ge1xuICAgICAgaWYgKHJlZHVjZXJJbmRleCA+PSB0aGlzLmhlaWdodEluZGV4KCkpIHJldHVybiBwcmV2O1xuICAgICAgcmV0dXJuIHByZXYgKyBjdXJyLmhlaWdodDtcbiAgICB9LCAwKVxuICApO1xuICBpbnZlcnQgPSBjb21wdXRlZCgoKSA9PiB0aGlzLnRvYXN0KCkuaW52ZXJ0ID8/IHRoaXMuX2ludmVydCgpKTtcbiAgZGlzYWJsZWQgPSBjb21wdXRlZCgoKSA9PiB0aGlzLnRvYXN0VHlwZSgpID09PSAnbG9hZGluZycpO1xuXG4gIHRpbWVvdXRJZDogUmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD4gfCB1bmRlZmluZWQ7XG4gIHJlbWFpbmluZ1RpbWUgPSAwO1xuXG4gIGlzUHJvbWlzZUxvYWRpbmdPckluZmluaXRlRHVyYXRpb24gPSBjb21wdXRlZChcbiAgICAoKSA9PlxuICAgICAgKHRoaXMudG9hc3QoKS5wcm9taXNlICYmIHRoaXMudG9hc3RUeXBlKCkgPT09ICdsb2FkaW5nJykgfHxcbiAgICAgIHRoaXMudG9hc3QoKS5kdXJhdGlvbiA9PT0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZXG4gICk7XG5cbiAgdG9hc3RDbGFzc2VzID0gY29tcHV0ZWQoKCkgPT5cbiAgICBjbihcbiAgICAgIHRoaXMuX2NsYXNzKCksXG4gICAgICB0aGlzLnRvYXN0Q2xhc3MoKSxcbiAgICAgIHRoaXMuY2xhc3NlcygpLnRvYXN0LFxuICAgICAgdGhpcy50b2FzdCgpLmNsYXNzZXM/LnRvYXN0LFxuICAgICAgdGhpcy5jbGFzc2VzKClbdGhpcy50b2FzdFR5cGUoKV0sXG4gICAgICB0aGlzLnRvYXN0KCkuY2xhc3Nlcz8uW3RoaXMudG9hc3RUeXBlKCldXG4gICAgKVxuICApO1xuICB0b2FzdFN0eWxlID0gY29tcHV0ZWQoKCkgPT4gKHtcbiAgICAnLS1pbmRleCc6IGAke3RoaXMuaW5kZXgoKX1gLFxuICAgICctLXRvYXN0cy1iZWZvcmUnOiBgJHt0aGlzLmluZGV4KCl9YCxcbiAgICAnLS16LWluZGV4JzogYCR7dGhpcy50b2FzdHMoKS5sZW5ndGggLSB0aGlzLmluZGV4KCl9YCxcbiAgICAnLS1vZmZzZXQnOiBgJHt0aGlzLnJlbW92ZWQoKSA/IHRoaXMub2Zmc2V0QmVmb3JlUmVtb3ZlKCkgOiB0aGlzLm9mZnNldCgpfXB4YCxcbiAgICAnLS1pbml0aWFsLWhlaWdodCc6IHRoaXMuZXhwYW5kQnlEZWZhdWx0KClcbiAgICAgID8gJ2F1dG8nXG4gICAgICA6IGAke3RoaXMuaW5pdGlhbEhlaWdodCgpfXB4YCxcbiAgICAuLi50aGlzLl9zdHlsZSgpLFxuICB9KSk7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgZWZmZWN0KCgpID0+IHtcbiAgICAgIGNvbnN0IGhlaWdodEluZGV4ID0gdGhpcy5oZWlnaHRJbmRleCgpO1xuICAgICAgY29uc3QgdG9hc3RzSGVpZ2h0QmVmb3JlID0gdGhpcy50b2FzdHNIZWlnaHRCZWZvcmUoKTtcbiAgICAgIHVudHJhY2tlZCgoKSA9PiB0aGlzLm9mZnNldC5zZXQoaGVpZ2h0SW5kZXggKiBHQVAgKyB0b2FzdHNIZWlnaHRCZWZvcmUpKTtcbiAgICB9KTtcblxuICAgIGVmZmVjdCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy50b2FzdCgpLnVwZGF0ZWQpIHtcbiAgICAgICAgLy8gaWYgdGhlIHRvYXN0IGhhcyBiZWVuIHVwZGF0ZWQgYWZ0ZXIgdGhlIGluaXRpYWwgcmVuZGVyLFxuICAgICAgICAvLyB3ZSB3YW50IHRvIHJlc2V0IHRoZSB0aW1lciBhbmQgc2V0IHRoZSByZW1haW5pbmcgdGltZSB0byB0aGVcbiAgICAgICAgLy8gbmV3IGR1cmF0aW9uXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRJZCk7XG4gICAgICAgIHRoaXMucmVtYWluaW5nVGltZSA9XG4gICAgICAgICAgdGhpcy50b2FzdCgpLmR1cmF0aW9uID8/IHRoaXMuZHVyYXRpb24oKSA/PyBUT0FTVF9MSUZFVElNRTtcbiAgICAgICAgdGhpcy5zdGFydFRpbWVyKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBlZmZlY3Qob25DbGVhbnVwID0+IHtcbiAgICAgIGlmICghdGhpcy5pc1Byb21pc2VMb2FkaW5nT3JJbmZpbml0ZUR1cmF0aW9uKCkpIHtcbiAgICAgICAgaWYgKHRoaXMuZXhwYW5kZWQoKSB8fCB0aGlzLmludGVyYWN0aW5nKCkpIHtcbiAgICAgICAgICB0aGlzLnBhdXNlVGltZXIoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnN0YXJ0VGltZXIoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBvbkNsZWFudXAoKCkgPT4gY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dElkKSk7XG4gICAgfSk7XG5cbiAgICBlZmZlY3QoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMudG9hc3QoKS5kZWxldGUpIHtcbiAgICAgICAgdGhpcy5kZWxldGVUb2FzdCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgIHRoaXMucmVtYWluaW5nVGltZSA9XG4gICAgICB0aGlzLnRvYXN0KCkuZHVyYXRpb24gPz8gdGhpcy5kdXJhdGlvbigpID8/IFRPQVNUX0xJRkVUSU1FO1xuICAgIHRoaXMubW91bnRlZC5zZXQodHJ1ZSk7XG4gICAgY29uc3QgaGVpZ2h0ID0gdGhpcy50b2FzdFJlZi5uYXRpdmVFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcbiAgICB0aGlzLmluaXRpYWxIZWlnaHQuc2V0KGhlaWdodCk7XG4gICAgdGhpcy5hZGRIZWlnaHQoeyB0b2FzdElkOiB0aGlzLnRvYXN0KCkuaWQsIGhlaWdodCB9KTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRJZCk7XG4gICAgdGhpcy5yZW1vdmVIZWlnaHQodGhpcy50b2FzdCgpLmlkKTtcbiAgfVxuXG4gIGRlbGV0ZVRvYXN0KCkge1xuICAgIHRoaXMucmVtb3ZlZC5zZXQodHJ1ZSk7XG4gICAgdGhpcy5vZmZzZXRCZWZvcmVSZW1vdmUuc2V0KHRoaXMub2Zmc2V0KCkpO1xuXG4gICAgdGhpcy5yZW1vdmVIZWlnaHQodGhpcy50b2FzdCgpLmlkKTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5kaXNtaXNzKHRoaXMudG9hc3QoKS5pZCk7XG4gICAgfSwgVElNRV9CRUZPUkVfVU5NT1VOVCk7XG4gIH1cblxuICAvLyBJZiB0b2FzdCdzIGR1cmF0aW9uIGNoYW5nZXMsIGl0IHdpbGwgYmUgb3V0IG9mIHN5bmMgd2l0aCB0aGVcbiAgLy8gcmVtYWluaW5nQXRUaW1lb3V0LCBzbyB3ZSBrbm93IHdlIG5lZWQgdG8gcmVzdGFydCB0aGUgdGltZXJcbiAgLy8gd2l0aCB0aGUgbmV3IGR1cmF0aW9uXG5cbiAgLy8gUGF1c2UgdGhlIHRpbWVyIG9uIGVhY2ggaG92ZXJcbiAgcGF1c2VUaW1lcigpIHtcbiAgICBpZiAodGhpcy5sYXN0Q2xvc2VUaW1lclN0YXJ0VGltZVJlZiA8IHRoaXMuY2xvc2VUaW1lclN0YXJ0VGltZVJlZikge1xuICAgICAgLy8gR2V0IHRoZSBlbGFwc2VkIHRpbWUgc2luY2UgdGhlIHRpbWVyIHN0YXJ0ZWRcbiAgICAgIGNvbnN0IGVsYXBzZWRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLmNsb3NlVGltZXJTdGFydFRpbWVSZWY7XG4gICAgICB0aGlzLnJlbWFpbmluZ1RpbWUgPSB0aGlzLnJlbWFpbmluZ1RpbWUgLSBlbGFwc2VkVGltZTtcbiAgICB9XG5cbiAgICB0aGlzLmxhc3RDbG9zZVRpbWVyU3RhcnRUaW1lUmVmID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIH1cblxuICBzdGFydFRpbWVyKCkge1xuICAgIHRoaXMuY2xvc2VUaW1lclN0YXJ0VGltZVJlZiA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIC8vIExldCB0aGUgdG9hc3Qga25vdyBpdCBoYXMgc3RhcnRlZFxuICAgIHRoaXMudGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnRvYXN0KCkub25BdXRvQ2xvc2U/Lih0aGlzLnRvYXN0KCkpO1xuICAgICAgdGhpcy5kZWxldGVUb2FzdCgpO1xuICAgIH0sIHRoaXMucmVtYWluaW5nVGltZSk7XG4gIH1cblxuICBvblBvaW50ZXJEb3duKGV2ZW50OiBQb2ludGVyRXZlbnQpIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCgpKSByZXR1cm47XG5cbiAgICB0aGlzLm9mZnNldEJlZm9yZVJlbW92ZS5zZXQodGhpcy5vZmZzZXQoKSk7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgIC8vIEVuc3VyZSB3ZSBtYWludGFpbiBjb3JyZWN0IHBvaW50ZXIgY2FwdHVyZSBldmVuIHdoZW4gZ29pbmcgb3V0c2lkZSB0aGUgdG9hc3QgKGUuZy4gd2hlbiBzd2lwaW5nKVxuICAgIHRhcmdldC5zZXRQb2ludGVyQ2FwdHVyZShldmVudC5wb2ludGVySWQpO1xuICAgIGlmICh0YXJnZXQudGFnTmFtZSA9PT0gJ0JVVFRPTicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zd2lwaW5nLnNldCh0cnVlKTtcbiAgICB0aGlzLnBvaW50ZXJTdGFydFJlZiA9IHsgeDogZXZlbnQuY2xpZW50WCwgeTogZXZlbnQuY2xpZW50WSB9O1xuICB9XG5cbiAgb25Qb2ludGVyVXAoKSB7XG4gICAgaWYgKHRoaXMuc3dpcGVPdXQoKSkgcmV0dXJuO1xuXG4gICAgdGhpcy5wb2ludGVyU3RhcnRSZWYgPSBudWxsO1xuICAgIGNvbnN0IHN3aXBlQW1vdW50ID0gTnVtYmVyKFxuICAgICAgdGhpcy50b2FzdFJlZi5uYXRpdmVFbGVtZW50LnN0eWxlXG4gICAgICAgIC5nZXRQcm9wZXJ0eVZhbHVlKCctLXN3aXBlLWFtb3VudCcpXG4gICAgICAgIC5yZXBsYWNlKCdweCcsICcnKSB8fCAwXG4gICAgKTtcblxuICAgIC8vIFJlbW92ZSBvbmx5IGlmIHRocmVzaG9sZCBpcyBtZXRcbiAgICBpZiAoTWF0aC5hYnMoc3dpcGVBbW91bnQpID49IFNXSVBFX1RIUkVTSE9MRCkge1xuICAgICAgdGhpcy5vZmZzZXRCZWZvcmVSZW1vdmUuc2V0KHRoaXMub2Zmc2V0KCkpO1xuICAgICAgdGhpcy50b2FzdCgpLm9uRGlzbWlzcz8uKHRoaXMudG9hc3QoKSk7XG4gICAgICB0aGlzLmRlbGV0ZVRvYXN0KCk7XG4gICAgICB0aGlzLnN3aXBlT3V0LnNldCh0cnVlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnRvYXN0UmVmLm5hdGl2ZUVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tc3dpcGUtYW1vdW50JywgJzBweCcpO1xuICAgIHRoaXMuc3dpcGluZy5zZXQoZmFsc2UpO1xuICB9XG5cbiAgb25Qb2ludGVyTW92ZShldmVudDogUG9pbnRlckV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLnBvaW50ZXJTdGFydFJlZikgcmV0dXJuO1xuXG4gICAgY29uc3QgeVBvc2l0aW9uID0gZXZlbnQuY2xpZW50WSAtIHRoaXMucG9pbnRlclN0YXJ0UmVmLnk7XG4gICAgY29uc3QgeFBvc2l0aW9uID0gZXZlbnQuY2xpZW50WCAtIHRoaXMucG9pbnRlclN0YXJ0UmVmLng7XG5cbiAgICBjb25zdCBjbGFtcCA9IHRoaXMuY29vcmRzKClbMF0gPT09ICd0b3AnID8gTWF0aC5taW4gOiBNYXRoLm1heDtcbiAgICBjb25zdCBjbGFtcGVkWSA9IGNsYW1wKDAsIHlQb3NpdGlvbik7XG4gICAgY29uc3Qgc3dpcGVTdGFydFRocmVzaG9sZCA9IGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnID8gMTAgOiAyO1xuICAgIGNvbnN0IGlzQWxsb3dlZFRvU3dpcGUgPSBNYXRoLmFicyhjbGFtcGVkWSkgPiBzd2lwZVN0YXJ0VGhyZXNob2xkO1xuXG4gICAgaWYgKGlzQWxsb3dlZFRvU3dpcGUpIHtcbiAgICAgIHRoaXMudG9hc3RSZWYubmF0aXZlRWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcbiAgICAgICAgJy0tc3dpcGUtYW1vdW50JyxcbiAgICAgICAgYCR7eVBvc2l0aW9ufXB4YFxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKE1hdGguYWJzKHhQb3NpdGlvbikgPiBzd2lwZVN0YXJ0VGhyZXNob2xkKSB7XG4gICAgICAvLyBVc2VyIGlzIHN3aXBpbmcgaW4gd3JvbmcgZGlyZWN0aW9uLCBzbyB3ZSBkaXNhYmxlIHN3aXBlIGdlc3R1cmVcbiAgICAgIC8vIGZvciB0aGUgY3VycmVudCBwb2ludGVyIGRvd24gaW50ZXJhY3Rpb25cbiAgICAgIHRoaXMucG9pbnRlclN0YXJ0UmVmID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBvbkNsb3NlQnV0dG9uQ2xpY2soKSB7XG4gICAgaWYgKHRoaXMuZGlzYWJsZWQoKSkgcmV0dXJuO1xuICAgIHRoaXMuZGVsZXRlVG9hc3QoKTtcbiAgICB0aGlzLnRvYXN0KCkub25EaXNtaXNzPy4odGhpcy50b2FzdCgpKTtcbiAgfVxuXG4gIG9uQ2FuY2VsQ2xpY2soKSB7XG4gICAgdGhpcy5kZWxldGVUb2FzdCgpO1xuICAgIGNvbnN0IHRvYXN0ID0gdGhpcy50b2FzdCgpO1xuICAgIGlmICh0b2FzdC5jYW5jZWw/Lm9uQ2xpY2spIHtcbiAgICAgIHRvYXN0LmNhbmNlbC5vbkNsaWNrKCk7XG4gICAgfVxuICB9XG5cbiAgb25BY3Rpb25DbGljayhldmVudDogTW91c2VFdmVudCkge1xuICAgIGNvbnN0IHRvYXN0ID0gdGhpcy50b2FzdCgpO1xuICAgIHRvYXN0LmFjdGlvbj8ub25DbGljayhldmVudCk7XG4gICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHJldHVybjtcbiAgICB0aGlzLmRlbGV0ZVRvYXN0KCk7XG4gIH1cbn1cbiJdfQ==